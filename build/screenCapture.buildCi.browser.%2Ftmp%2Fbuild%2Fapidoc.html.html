<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="http://github.com/tautologistics/node-htmlparser">htmlparser (v1.7.7)</a>
</h1>
<h4>Forgiving HTML/XML/RSS Parser in JS for *both* Node and Browsers</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser">module htmlparser</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler">
            function <span class="apidocSignatureSpan">htmlparser.</span>DefaultHandler
            <span class="apidocSignatureSpan">(callback, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.prototype.done">
            function <span class="apidocSignatureSpan">htmlparser.</span>DefaultHandler.prototype.done
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.prototype.error">
            function <span class="apidocSignatureSpan">htmlparser.</span>DefaultHandler.prototype.error
            <span class="apidocSignatureSpan">(error)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.prototype.handleCallback">
            function <span class="apidocSignatureSpan">htmlparser.</span>DefaultHandler.prototype.handleCallback
            <span class="apidocSignatureSpan">(error)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.prototype.handleElement">
            function <span class="apidocSignatureSpan">htmlparser.</span>DefaultHandler.prototype.handleElement
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.prototype.isEmptyTag">
            function <span class="apidocSignatureSpan">htmlparser.</span>DefaultHandler.prototype.isEmptyTag
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.prototype.reset">
            function <span class="apidocSignatureSpan">htmlparser.</span>DefaultHandler.prototype.reset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.prototype.writeComment">
            function <span class="apidocSignatureSpan">htmlparser.</span>DefaultHandler.prototype.writeComment
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.prototype.writeDirective">
            function <span class="apidocSignatureSpan">htmlparser.</span>DefaultHandler.prototype.writeDirective
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.prototype.writeTag">
            function <span class="apidocSignatureSpan">htmlparser.</span>DefaultHandler.prototype.writeTag
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.prototype.writeText">
            function <span class="apidocSignatureSpan">htmlparser.</span>DefaultHandler.prototype.writeText
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DomUtils.getElementById">
            function <span class="apidocSignatureSpan">htmlparser.</span>DomUtils.getElementById
            <span class="apidocSignatureSpan">(id, currentElement, recurse)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DomUtils.getElements">
            function <span class="apidocSignatureSpan">htmlparser.</span>DomUtils.getElements
            <span class="apidocSignatureSpan">(options, currentElement, recurse, limit)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DomUtils.getElementsByTagName">
            function <span class="apidocSignatureSpan">htmlparser.</span>DomUtils.getElementsByTagName
            <span class="apidocSignatureSpan">(name, currentElement, recurse, limit)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DomUtils.getElementsByTagType">
            function <span class="apidocSignatureSpan">htmlparser.</span>DomUtils.getElementsByTagType
            <span class="apidocSignatureSpan">(type, currentElement, recurse, limit)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DomUtils.testElement">
            function <span class="apidocSignatureSpan">htmlparser.</span>DomUtils.testElement
            <span class="apidocSignatureSpan">(options, element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser">
            function <span class="apidocSignatureSpan">htmlparser.</span>Parser
            <span class="apidocSignatureSpan">(handler, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.done">
            function <span class="apidocSignatureSpan">htmlparser.</span>Parser.prototype.done
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.getLocation">
            function <span class="apidocSignatureSpan">htmlparser.</span>Parser.prototype.getLocation
            <span class="apidocSignatureSpan">(startTag)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.handleError">
            function <span class="apidocSignatureSpan">htmlparser.</span>Parser.prototype.handleError
            <span class="apidocSignatureSpan">(error)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.parseAttribs">
            function <span class="apidocSignatureSpan">htmlparser.</span>Parser.prototype.parseAttribs
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.parseChunk">
            function <span class="apidocSignatureSpan">htmlparser.</span>Parser.prototype.parseChunk
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.parseComplete">
            function <span class="apidocSignatureSpan">htmlparser.</span>Parser.prototype.parseComplete
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.parseTagAttribs">
            function <span class="apidocSignatureSpan">htmlparser.</span>Parser.prototype.parseTagAttribs
            <span class="apidocSignatureSpan">(elements)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.parseTagName">
            function <span class="apidocSignatureSpan">htmlparser.</span>Parser.prototype.parseTagName
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.parseTags">
            function <span class="apidocSignatureSpan">htmlparser.</span>Parser.prototype.parseTags
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.reset">
            function <span class="apidocSignatureSpan">htmlparser.</span>Parser.prototype.reset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.validateHandler">
            function <span class="apidocSignatureSpan">htmlparser.</span>Parser.prototype.validateHandler
            <span class="apidocSignatureSpan">(handler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.writeHandler">
            function <span class="apidocSignatureSpan">htmlparser.</span>Parser.prototype.writeHandler
            <span class="apidocSignatureSpan">(forceFlush)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.RssHandler">
            function <span class="apidocSignatureSpan">htmlparser.</span>RssHandler
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.RssHandler.prototype.done">
            function <span class="apidocSignatureSpan">htmlparser.</span>RssHandler.prototype.done
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">htmlparser.</span>DefaultHandler.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">htmlparser.</span>DomUtils</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">htmlparser.</span>ElementType</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">htmlparser.</span>Parser.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">htmlparser.</span>RssHandler.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">htmlparser.</span>node_htmlparser</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.DefaultHandler">module htmlparser.DefaultHandler</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.DefaultHandler">
            function <span class="apidocSignatureSpan">htmlparser.</span>DefaultHandler
            <span class="apidocSignatureSpan">(callback, options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">htmlparser.DefaultHandler.</span>_emptyTags</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">htmlparser.DefaultHandler.</span>reWhitespace</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.DefaultHandler.prototype">module htmlparser.DefaultHandler.prototype</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>_done</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.prototype.done">
            function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>done
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.prototype.error">
            function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>error
            <span class="apidocSignatureSpan">(error)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.prototype.handleCallback">
            function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>handleCallback
            <span class="apidocSignatureSpan">(error)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.prototype.handleElement">
            function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>handleElement
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.prototype.isEmptyTag">
            function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>isEmptyTag
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.prototype.reset">
            function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>reset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.prototype.writeComment">
            function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>writeComment
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.prototype.writeDirective">
            function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>writeDirective
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.prototype.writeTag">
            function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>writeTag
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.prototype.writeText">
            function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>writeText
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>_callback</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>_options</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>_tagStack</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>dom</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.DefaultHandler.prototype.done">module htmlparser.DefaultHandler.prototype.done</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.prototype.done.done">
            function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>done
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.DefaultHandler.prototype.error">module htmlparser.DefaultHandler.prototype.error</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.prototype.error.error">
            function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>error
            <span class="apidocSignatureSpan">(error)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.DefaultHandler.prototype.handleCallback">module htmlparser.DefaultHandler.prototype.handleCallback</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.prototype.handleCallback.handleCallback">
            function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>handleCallback
            <span class="apidocSignatureSpan">(error)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.DefaultHandler.prototype.handleElement">module htmlparser.DefaultHandler.prototype.handleElement</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.prototype.handleElement.handleElement">
            function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>handleElement
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.DefaultHandler.prototype.isEmptyTag">module htmlparser.DefaultHandler.prototype.isEmptyTag</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.prototype.isEmptyTag.isEmptyTag">
            function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>isEmptyTag
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.DefaultHandler.prototype.reset">module htmlparser.DefaultHandler.prototype.reset</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.prototype.reset.reset">
            function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>reset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.DefaultHandler.prototype.writeComment">module htmlparser.DefaultHandler.prototype.writeComment</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.prototype.writeComment.writeComment">
            function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>writeComment
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.DefaultHandler.prototype.writeDirective">module htmlparser.DefaultHandler.prototype.writeDirective</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.prototype.writeDirective.writeDirective">
            function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>writeDirective
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.DefaultHandler.prototype.writeTag">module htmlparser.DefaultHandler.prototype.writeTag</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.prototype.writeTag.writeTag">
            function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>writeTag
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.DefaultHandler.prototype.writeText">module htmlparser.DefaultHandler.prototype.writeText</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DefaultHandler.prototype.writeText.writeText">
            function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>writeText
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.DomUtils">module htmlparser.DomUtils</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DomUtils.getElementById">
            function <span class="apidocSignatureSpan">htmlparser.DomUtils.</span>getElementById
            <span class="apidocSignatureSpan">(id, currentElement, recurse)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DomUtils.getElements">
            function <span class="apidocSignatureSpan">htmlparser.DomUtils.</span>getElements
            <span class="apidocSignatureSpan">(options, currentElement, recurse, limit)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DomUtils.getElementsByTagName">
            function <span class="apidocSignatureSpan">htmlparser.DomUtils.</span>getElementsByTagName
            <span class="apidocSignatureSpan">(name, currentElement, recurse, limit)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DomUtils.getElementsByTagType">
            function <span class="apidocSignatureSpan">htmlparser.DomUtils.</span>getElementsByTagType
            <span class="apidocSignatureSpan">(type, currentElement, recurse, limit)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DomUtils.testElement">
            function <span class="apidocSignatureSpan">htmlparser.DomUtils.</span>testElement
            <span class="apidocSignatureSpan">(options, element)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.DomUtils.getElementById">module htmlparser.DomUtils.getElementById</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DomUtils.getElementById.getElementById">
            function <span class="apidocSignatureSpan">htmlparser.DomUtils.</span>getElementById
            <span class="apidocSignatureSpan">(id, currentElement, recurse)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.DomUtils.getElements">module htmlparser.DomUtils.getElements</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DomUtils.getElements.getElements">
            function <span class="apidocSignatureSpan">htmlparser.DomUtils.</span>getElements
            <span class="apidocSignatureSpan">(options, currentElement, recurse, limit)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.DomUtils.getElementsByTagName">module htmlparser.DomUtils.getElementsByTagName</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DomUtils.getElementsByTagName.getElementsByTagName">
            function <span class="apidocSignatureSpan">htmlparser.DomUtils.</span>getElementsByTagName
            <span class="apidocSignatureSpan">(name, currentElement, recurse, limit)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.DomUtils.getElementsByTagType">module htmlparser.DomUtils.getElementsByTagType</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DomUtils.getElementsByTagType.getElementsByTagType">
            function <span class="apidocSignatureSpan">htmlparser.DomUtils.</span>getElementsByTagType
            <span class="apidocSignatureSpan">(type, currentElement, recurse, limit)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.DomUtils.testElement">module htmlparser.DomUtils.testElement</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.DomUtils.testElement.testElement">
            function <span class="apidocSignatureSpan">htmlparser.DomUtils.</span>testElement
            <span class="apidocSignatureSpan">(options, element)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.Parser">module htmlparser.Parser</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.Parser">
            function <span class="apidocSignatureSpan">htmlparser.</span>Parser
            <span class="apidocSignatureSpan">(handler, options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">htmlparser.Parser.</span>_reAttrib</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">htmlparser.Parser.</span>_reTagName</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">htmlparser.Parser.</span>_reTags</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">htmlparser.Parser.</span>_reTrim</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">htmlparser.Parser.</span>_reTrimComment</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">htmlparser.Parser.</span>_reWhitespace</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.Parser.prototype">module htmlparser.Parser.prototype</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>_done</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.done">
            function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>done
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.getLocation">
            function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>getLocation
            <span class="apidocSignatureSpan">(startTag)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.handleError">
            function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>handleError
            <span class="apidocSignatureSpan">(error)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.parseAttribs">
            function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>parseAttribs
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.parseChunk">
            function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>parseChunk
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.parseComplete">
            function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>parseComplete
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.parseTagAttribs">
            function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>parseTagAttribs
            <span class="apidocSignatureSpan">(elements)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.parseTagName">
            function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>parseTagName
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.parseTags">
            function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>parseTags
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.reset">
            function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>reset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.validateHandler">
            function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>validateHandler
            <span class="apidocSignatureSpan">(handler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.writeHandler">
            function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>writeHandler
            <span class="apidocSignatureSpan">(forceFlush)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>_current</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>_elementsCurrent</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>_next</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>_buffer</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>_elements</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>_handler</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>_location</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>_options</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>_tagStack</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>_parseState</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>_prevTagSep</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.Parser.prototype.done">module htmlparser.Parser.prototype.done</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.done.done">
            function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>done
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.Parser.prototype.getLocation">module htmlparser.Parser.prototype.getLocation</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.getLocation.getLocation">
            function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>getLocation
            <span class="apidocSignatureSpan">(startTag)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.Parser.prototype.handleError">module htmlparser.Parser.prototype.handleError</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.handleError.handleError">
            function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>handleError
            <span class="apidocSignatureSpan">(error)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.Parser.prototype.parseAttribs">module htmlparser.Parser.prototype.parseAttribs</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.parseAttribs.parseAttribs">
            function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>parseAttribs
            <span class="apidocSignatureSpan">(element)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.Parser.prototype.parseChunk">module htmlparser.Parser.prototype.parseChunk</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.parseChunk.parseChunk">
            function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>parseChunk
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.Parser.prototype.parseComplete">module htmlparser.Parser.prototype.parseComplete</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.parseComplete.parseComplete">
            function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>parseComplete
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.Parser.prototype.parseTagAttribs">module htmlparser.Parser.prototype.parseTagAttribs</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.parseTagAttribs.parseTagAttribs">
            function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>parseTagAttribs
            <span class="apidocSignatureSpan">(elements)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.Parser.prototype.parseTagName">module htmlparser.Parser.prototype.parseTagName</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.parseTagName.parseTagName">
            function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>parseTagName
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.Parser.prototype.parseTags">module htmlparser.Parser.prototype.parseTags</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.parseTags.parseTags">
            function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>parseTags
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.Parser.prototype.reset">module htmlparser.Parser.prototype.reset</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.reset.reset">
            function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>reset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.Parser.prototype.validateHandler">module htmlparser.Parser.prototype.validateHandler</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.validateHandler.validateHandler">
            function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>validateHandler
            <span class="apidocSignatureSpan">(handler)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.Parser.prototype.writeHandler">module htmlparser.Parser.prototype.writeHandler</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.Parser.prototype.writeHandler.writeHandler">
            function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>writeHandler
            <span class="apidocSignatureSpan">(forceFlush)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.RssHandler">module htmlparser.RssHandler</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.RssHandler.RssHandler">
            function <span class="apidocSignatureSpan">htmlparser.</span>RssHandler
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.RssHandler.super_">
            function <span class="apidocSignatureSpan">htmlparser.RssHandler.</span>super_
            <span class="apidocSignatureSpan">(callback, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.RssHandler.prototype">module htmlparser.RssHandler.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.RssHandler.prototype.constructor">
            function <span class="apidocSignatureSpan">htmlparser.RssHandler.prototype.</span>constructor
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.RssHandler.prototype.done">
            function <span class="apidocSignatureSpan">htmlparser.RssHandler.prototype.</span>done
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.RssHandler.prototype.done">module htmlparser.RssHandler.prototype.done</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.RssHandler.prototype.done.done">
            function <span class="apidocSignatureSpan">htmlparser.RssHandler.prototype.</span>done
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.htmlparser.node_htmlparser">module htmlparser.node_htmlparser</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.node_htmlparser.DefaultHandler">
            function <span class="apidocSignatureSpan">htmlparser.node_htmlparser.</span>DefaultHandler
            <span class="apidocSignatureSpan">(callback, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.node_htmlparser.Parser">
            function <span class="apidocSignatureSpan">htmlparser.node_htmlparser.</span>Parser
            <span class="apidocSignatureSpan">(handler, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.htmlparser.node_htmlparser.RssHandler">
            function <span class="apidocSignatureSpan">htmlparser.node_htmlparser.</span>RssHandler
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">htmlparser.node_htmlparser.</span>DomUtils</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">htmlparser.node_htmlparser.</span>ElementType</span>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser" id="apidoc.module.htmlparser">module htmlparser</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler" id="apidoc.element.htmlparser.DefaultHandler">
        function <span class="apidocSignatureSpan">htmlparser.</span>DefaultHandler
        <span class="apidocSignatureSpan">(callback, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler(callback, options) {
	this.reset();
	this._options = options ? options : { };
	if (this._options.ignoreWhitespace == undefined)
		this._options.ignoreWhitespace = false; //Keep whitespace-only text nodes
	if (this._options.verbose == undefined)
		this._options.verbose = true; //Keep data property for tags and raw property for all
	if (this._options.enforceEmptyTags == undefined)
		this._options.enforceEmptyTags = true; //Don't allow children for HTML tags defined as empty in spec
	if ((typeof callback) == "function")
		this._callback = callback;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
View runtests.html in any browser

##Usage In Node

```javascript
var htmlparser = require("htmlparser");
var rawHtml = "Xyz &lt;script language= javascript&gt;var foo = '&lt;&lt;bar&gt;&gt;';&lt; /  script
&gt;&lt;!--&lt;!-- Waah! -- --&gt;";
var handler = new htmlparser.<span class="apidocCodeKeywordSpan">DefaultHandler</span>(function (error, dom) {
	if (error)
		[...do something for errors...]
	else
		[...parsing done, do something...]
});
var parser = new htmlparser.Parser(handler);
parser.parseComplete(rawHtml);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.prototype.done" id="apidoc.element.htmlparser.DefaultHandler.prototype.done">
        function <span class="apidocSignatureSpan">htmlparser.</span>DefaultHandler.prototype.done
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler$done() {
		this._done = true;
		this.handleCallback(null);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.prototype.error" id="apidoc.element.htmlparser.DefaultHandler.prototype.error">
        function <span class="apidocSignatureSpan">htmlparser.</span>DefaultHandler.prototype.error
        <span class="apidocSignatureSpan">(error)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler$error(error) {
		this.handleCallback(error);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.prototype.handleCallback" id="apidoc.element.htmlparser.DefaultHandler.prototype.handleCallback">
        function <span class="apidocSignatureSpan">htmlparser.</span>DefaultHandler.prototype.handleCallback
        <span class="apidocSignatureSpan">(error)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler$handleCallback(error) {
			if ((typeof this._callback) != "function")
				if (error)
					throw error;
				else
					return;
			this._callback(error, this.dom);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.prototype.handleElement" id="apidoc.element.htmlparser.DefaultHandler.prototype.handleElement">
        function <span class="apidocSignatureSpan">htmlparser.</span>DefaultHandler.prototype.handleElement
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler$handleElement(element) {
		if (this._done)
			this.handleCallback(new Error("Writing to the handler after done() called is not allowed without a reset()"));
		if (!this._options.verbose) {
//			element.raw = null; //FIXME: Not clean
			//FIXME: Serious performance problem using delete
			delete element.raw;
			if (element.type == "tag" || element.type == "script" || element.type == "style")
				delete element.data;
		}
		if (!this._tagStack.last()) { //There are no parent elements
			//If the element can be a container, add it to the tag stack and the top level list
			if (element.type != ElementType.Text &amp;&amp; element.type != ElementType.Comment &amp;&amp; element.type != ElementType.Directive) {
				if (element.name.charAt(0) != "/") { //Ignore closing tags that obviously don't have an opening tag
					this.dom.push(element);
					if (!this.isEmptyTag(element)) { //Don't add tags to the tag stack that can't have children
						this._tagStack.push(element);
					}
				}
			}
			else //Otherwise just add to the top level list
				this.dom.push(element);
		}
		else { //There are parent elements
			//If the element can be a container, add it as a child of the element
			//on top of the tag stack and then add it to the tag stack
			if (element.type != ElementType.Text &amp;&amp; element.type != ElementType.Comment &amp;&amp; element.type != ElementType.Directive) {
				if (element.name.charAt(0) == "/") {
					//This is a closing tag, scan the tagStack to find the matching opening tag
					//and pop the stack up to the opening tag's parent
					var baseName = element.name.substring(1);
					if (!this.isEmptyTag(element)) {
						var pos = this._tagStack.length - 1;
						while (pos &gt; -1 &amp;&amp; this._tagStack[pos--].name != baseName) { }
						if (pos &gt; -1 || this._tagStack[0].name == baseName)
							while (pos &lt; this._tagStack.length - 1)
								this._tagStack.pop();
					}
				}
				else { //This is not a closing tag
					if (!this._tagStack.last().children)
						this._tagStack.last().children = [];
					this._tagStack.last().children.push(element);
					if (!this.isEmptyTag(element)) //Don't add tags to the tag stack that can't have children
						this._tagStack.push(element);
				}
			}
			else { //This is not a container element
				if (!this._tagStack.last().children)
					this._tagStack.last().children = [];
				this._tagStack.last().children.push(element);
			}
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.prototype.isEmptyTag" id="apidoc.element.htmlparser.DefaultHandler.prototype.isEmptyTag">
        function <span class="apidocSignatureSpan">htmlparser.</span>DefaultHandler.prototype.isEmptyTag
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">DefaultHandler.prototype.isEmptyTag = function (element) {
		var name = element.name.toLowerCase();
		if (name.charAt(0) == '/') {
			name = name.substring(1);
		}
		return this._options.enforceEmptyTags &amp;&amp; !!DefaultHandler._emptyTags[name];
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.prototype.reset" id="apidoc.element.htmlparser.DefaultHandler.prototype.reset">
        function <span class="apidocSignatureSpan">htmlparser.</span>DefaultHandler.prototype.reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler$reset() {
		this.dom = [];
		this._done = false;
		this._tagStack = [];
		this._tagStack.last = function DefaultHandler$_tagStack$last () {
			return(this.length ? this[this.length - 1] : null);
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.prototype.writeComment" id="apidoc.element.htmlparser.DefaultHandler.prototype.writeComment">
        function <span class="apidocSignatureSpan">htmlparser.</span>DefaultHandler.prototype.writeComment
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler$writeComment(element) {
		this.handleElement(element);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.prototype.writeDirective" id="apidoc.element.htmlparser.DefaultHandler.prototype.writeDirective">
        function <span class="apidocSignatureSpan">htmlparser.</span>DefaultHandler.prototype.writeDirective
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler$writeDirective(element) {
		this.handleElement(element);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.prototype.writeTag" id="apidoc.element.htmlparser.DefaultHandler.prototype.writeTag">
        function <span class="apidocSignatureSpan">htmlparser.</span>DefaultHandler.prototype.writeTag
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler$writeTag(element) {
		this.handleElement(element);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.prototype.writeText" id="apidoc.element.htmlparser.DefaultHandler.prototype.writeText">
        function <span class="apidocSignatureSpan">htmlparser.</span>DefaultHandler.prototype.writeText
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler$writeText(element) {
		if (this._options.ignoreWhitespace)
			if (DefaultHandler.reWhitespace.test(element.data))
				return;
		this.handleElement(element);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.DomUtils.getElementById" id="apidoc.element.htmlparser.DomUtils.getElementById">
        function <span class="apidocSignatureSpan">htmlparser.</span>DomUtils.getElementById
        <span class="apidocSignatureSpan">(id, currentElement, recurse)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DomUtils$getElementById(id, currentElement, recurse) {
			var result = DomUtils.getElements({ id: id }, currentElement, recurse, 1);
			return(result.length ? result[0] : null);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.DomUtils.getElements" id="apidoc.element.htmlparser.DomUtils.getElements">
        function <span class="apidocSignatureSpan">htmlparser.</span>DomUtils.getElements
        <span class="apidocSignatureSpan">(options, currentElement, recurse, limit)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DomUtils$getElements(options, currentElement, recurse, limit) {
			recurse = (recurse === undefined || recurse === null) || !!recurse;
			limit = isNaN(parseInt(limit)) ? -1 : parseInt(limit);

			if (!currentElement) {
				return([]);
			}
	
			var found = [];
			var elementList;

			function getTest (checkVal) {
				return(function (value) { return(value == checkVal); });
			}
			for (var key in options) {
				if ((typeof options[key]) != "function") {
					options[key] = getTest(options[key]);
				}
			}
	
			if (DomUtils.testElement(options, currentElement)) {
				found.push(currentElement);
			}

			if (limit &gt;= 0 &amp;&amp; found.length &gt;= limit) {
				return(found);
			}

			if (recurse &amp;&amp; currentElement.children) {
				elementList = currentElement.children;
			} else if (currentElement instanceof Array) {
				elementList = currentElement;
			} else {
				return(found);
			}
	
			for (var i = 0; i &lt; elementList.length; i++) {
				found = found.concat(DomUtils.getElements(options, elementList[i], recurse, limit));
				if (limit &gt;= 0 &amp;&amp; found.length &gt;= limit) {
					break;
				}
			}
	
			return(found);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.DomUtils.getElementsByTagName" id="apidoc.element.htmlparser.DomUtils.getElementsByTagName">
        function <span class="apidocSignatureSpan">htmlparser.</span>DomUtils.getElementsByTagName
        <span class="apidocSignatureSpan">(name, currentElement, recurse, limit)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DomUtils$getElementsByTagName(name, currentElement, recurse, limit) {
			return(DomUtils.getElements({ tag_name: name }, currentElement, recurse, limit));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.DomUtils.getElementsByTagType" id="apidoc.element.htmlparser.DomUtils.getElementsByTagType">
        function <span class="apidocSignatureSpan">htmlparser.</span>DomUtils.getElementsByTagType
        <span class="apidocSignatureSpan">(type, currentElement, recurse, limit)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DomUtils$getElementsByTagType(type, currentElement, recurse, limit) {
			return(DomUtils.getElements({ tag_type: type }, currentElement, recurse, limit));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.DomUtils.testElement" id="apidoc.element.htmlparser.DomUtils.testElement">
        function <span class="apidocSignatureSpan">htmlparser.</span>DomUtils.testElement
        <span class="apidocSignatureSpan">(options, element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DomUtils$testElement(options, element) {
			if (!element) {
				return false;
			}
	
			for (var key in options) {
				if (key == "tag_name") {
					if (element.type != "tag" &amp;&amp; element.type != "script" &amp;&amp; element.type != "style") {
						return false;
					}
					if (!options["tag_name"](element.name)) {
						return false;
					}
				} else if (key == "tag_type") {
					if (!options["tag_type"](element.type)) {
						return false;
					}
				} else if (key == "tag_contains") {
					if (element.type != "text" &amp;&amp; element.type != "comment" &amp;&amp; element.type != "directive") {
						return false;
					}
					if (!options["tag_contains"](element.data)) {
						return false;
					}
				} else {
					if (!element.attribs || !options[key](element.attribs[key])) {
						return false;
					}
				}
			}
		
			return true;
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.Parser" id="apidoc.element.htmlparser.Parser">
        function <span class="apidocSignatureSpan">htmlparser.</span>Parser
        <span class="apidocSignatureSpan">(handler, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser(handler, options) {
	this._options = options ? options : { };
	if (this._options.includeLocation == undefined) {
		this._options.includeLocation = false; //Do not track element position in document by default
	}

	this.validateHandler(handler);
	this._handler = handler;
	this.reset();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var rawHtml = "Xyz &lt;script language= javascript&gt;var foo = '&lt;&lt;bar&gt;&gt;';&lt; /  script
&gt;&lt;!--&lt;!-- Waah! -- --&gt;";
var handler = new htmlparser.DefaultHandler(function (error, dom) {
	if (error)
		[...do something for errors...]
	else
		[...parsing done, do something...]
});
var parser = new htmlparser.<span class="apidocCodeKeywordSpan">Parser</span>(handler);
parser.parseComplete(rawHtml);
sys.puts(sys.inspect(handler.dom, false, null));
```

##Usage In Browser

```javascript
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.done" id="apidoc.element.htmlparser.Parser.prototype.done">
        function <span class="apidocSignatureSpan">htmlparser.</span>Parser.prototype.done
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$done() {
		if (this._done)
			return;
		this._done = true;
	
		//Push any unparsed text into a final element in the element list
		if (this._buffer.length) {
			var rawData = this._buffer;
			this._buffer = "";
			var element = {
				  raw: rawData
				, data: (this._parseState == ElementType.Text) ? rawData : rawData.replace(Parser._reTrim, "")
				, type: this._parseState
				};
			if (this._parseState == ElementType.Tag || this._parseState == ElementType.Script || this._parseState == ElementType.Style)
				element.name = this.parseTagName(element.data);
			this.parseAttribs(element);
			this._elements.push(element);
		}
	
		this.writeHandler();
		this._handler.done();
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.getLocation" id="apidoc.element.htmlparser.Parser.prototype.getLocation">
        function <span class="apidocSignatureSpan">htmlparser.</span>Parser.prototype.getLocation
        <span class="apidocSignatureSpan">(startTag)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$getLocation(startTag) {
		var c,
			l = this._location,
			end = this._current - (startTag ? 1 : 0),
			chunk = startTag &amp;&amp; l.charOffset == 0 &amp;&amp; this._current == 0;
		
		for (; l.charOffset &lt; end; l.charOffset++) {
			c = this._buffer.charAt(l.charOffset);
			if (c == '\n') {
				l.inBuffer++;
				l.col = 0;
			} else if (c != '\r') {
				l.col++;
			}
		}
		return {
			  line: l.row + l.inBuffer + 1
			, col: l.col + (chunk ? 0: 1)
		};
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.handleError" id="apidoc.element.htmlparser.Parser.prototype.handleError">
        function <span class="apidocSignatureSpan">htmlparser.</span>Parser.prototype.handleError
        <span class="apidocSignatureSpan">(error)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$handleError(error) {
		if ((typeof this._handler.error) == "function")
			this._handler.error(error);
		else
			throw error;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.parseAttribs" id="apidoc.element.htmlparser.Parser.prototype.parseAttribs">
        function <span class="apidocSignatureSpan">htmlparser.</span>Parser.prototype.parseAttribs
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$parseAttribs(element) {
		//Only parse attributes for tags
		if (element.type != ElementType.Script &amp;&amp; element.type != ElementType.Style &amp;&amp; element.type != ElementType.Tag)
			return;
	
		var tagName = element.data.split(Parser._reWhitespace, 1)[0];
		var attribRaw = element.data.substring(tagName.length);
		if (attribRaw.length &lt; 1)
			return;
	
		var match;
		Parser._reAttrib.lastIndex = 0;
		while (match = Parser._reAttrib.exec(attribRaw)) {
			if (element.attribs == undefined)
				element.attribs = {};
	
			if (typeof match[1] == "string" &amp;&amp; match[1].length) {
				element.attribs[match[1]] = match[2];
			} else if (typeof match[3] == "string" &amp;&amp; match[3].length) {
				element.attribs[match[3].toString()] = match[4].toString();
			} else if (typeof match[5] == "string" &amp;&amp; match[5].length) {
				element.attribs[match[5]] = match[6];
			} else if (typeof match[7] == "string" &amp;&amp; match[7].length) {
				element.attribs[match[7]] = match[7];
			}
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.parseChunk" id="apidoc.element.htmlparser.Parser.prototype.parseChunk">
        function <span class="apidocSignatureSpan">htmlparser.</span>Parser.prototype.parseChunk
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$parseChunk(data) {
		if (this._done)
			this.handleError(new Error("Attempted to parse chunk after parsing already done"));
		this._buffer += data; //FIXME: this can be a bottleneck
		this.parseTags();
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.parseComplete" id="apidoc.element.htmlparser.Parser.prototype.parseComplete">
        function <span class="apidocSignatureSpan">htmlparser.</span>Parser.prototype.parseComplete
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$parseComplete(data) {
		this.reset();
		this.parseChunk(data);
		this.done();
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.parseTagAttribs" id="apidoc.element.htmlparser.Parser.prototype.parseTagAttribs">
        function <span class="apidocSignatureSpan">htmlparser.</span>Parser.prototype.parseTagAttribs
        <span class="apidocSignatureSpan">(elements)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$parseTagAttribs(elements) {
		var idxEnd = elements.length;
		var idx = 0;
	
		while (idx &lt; idxEnd) {
			var element = elements[idx++];
			if (element.type == ElementType.Tag || element.type == ElementType.Script || element.type == ElementType.style)
				this.parseAttribs(element);
		}
	
		return(elements);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.parseTagName" id="apidoc.element.htmlparser.Parser.prototype.parseTagName">
        function <span class="apidocSignatureSpan">htmlparser.</span>Parser.prototype.parseTagName
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$parseTagName(data) {
		if (data == null || data == "")
			return("");
		var match = Parser._reTagName.exec(data);
		if (!match)
			return("");
		return((match[1] ? "/" : "") + match[2]);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.parseTags" id="apidoc.element.htmlparser.Parser.prototype.parseTags">
        function <span class="apidocSignatureSpan">htmlparser.</span>Parser.prototype.parseTags
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$parseTags() {
		var bufferEnd = this._buffer.length - 1;
		while (Parser._reTags.test(this._buffer)) {
			this._next = Parser._reTags.lastIndex - 1;
			var tagSep = this._buffer.charAt(this._next); //The currently found tag marker
			var rawData = this._buffer.substring(this._current, this._next); //The next chunk of data to parse
	
			//A new element to eventually be appended to the element list
			var element = {
				  raw: rawData
				, data: (this._parseState == ElementType.Text) ? rawData : rawData.replace(Parser._reTrim, "")
				, type: this._parseState
			};
	
			var elementName = this.parseTagName(element.data);
	
			//This section inspects the current tag stack and modifies the current
			//element if we're actually parsing a special area (script/comment/style tag)
			if (this._tagStack.length) { //We're parsing inside a script/comment/style tag
				if (this._tagStack[this._tagStack.length - 1] == ElementType.Script) { //We're currently in a script tag
					if (elementName.toLowerCase() == "/script") //Actually, we're no longer in a script tag, so pop it off the stack
						this._tagStack.pop();
					else { //Not a closing script tag
						if (element.raw.indexOf("!--") != 0) { //Make sure we're not in a comment
							//All data from here to script close is now a text element
							element.type = ElementType.Text;
							//If the previous element is text, append the current text to it
							if (this._elements.length &amp;&amp; this._elements[this._elements.length - 1].type == ElementType.Text) {
								var prevElement = this._elements[this._elements.length - 1];
								prevElement.raw = prevElement.data = prevElement.raw + this._prevTagSep + element.raw;
								element.raw = element.data = ""; //This causes the current element to not be added to the element list
							}
						}
					}
				}
				else if (this._tagStack[this._tagStack.length - 1] == ElementType.Style) { //We're currently in a style tag
					if (elementName.toLowerCase() == "/style") //Actually, we're no longer in a style tag, so pop it off the stack
						this._tagStack.pop();
					else {
						if (element.raw.indexOf("!--") != 0) { //Make sure we're not in a comment
							//All data from here to style close is now a text element
							element.type = ElementType.Text;
							//If the previous element is text, append the current text to it
							if (this._elements.length &amp;&amp; this._elements[this._elements.length - 1].type == ElementType.Text) {
								var prevElement = this._elements[this._elements.length - 1];
								if (element.raw != "") {
									prevElement.raw = prevElement.data = prevElement.raw + this._prevTagSep + element.raw;
									element.raw = element.data = ""; //This causes the current element to not be added to the element list
								} else { //Element is empty, so just append the last tag marker found
									prevElement.raw = prevElement.data = prevElement.raw + this._prevTagSep;
								}
							} else { //The previous element was not text
								if (element.raw != "") {
									element.raw = element.data = element.raw;
								}
							}
						}
					}
				}
				else if (this._tagStack[this._tagStack.length - 1] == ElementType.Comment) { //We're currently in a comment tag
					var rawLen = element.raw.length;
					if (element.raw.charAt(rawLen - 2) == "-" &amp;&amp; element.raw.charAt(rawLen - 1) == "-" &amp;&amp; tagSep == "&gt;") {
						//Actually, we're no longer in a style tag, so pop it off the stack
						this._tagStack.pop();
						//If the previous element is a comment, append the current text to it
						if (this._elements.length &amp;&amp; this._elements[this._elements.length - 1].type == ElementType.Comment) {
							var prevElement = this._elements[this._elements.length - 1];
							prevElement.raw = prevElement.data = (prevElement.raw + element.raw).replace(Parser._reTrimComment, "");
							element.raw = element.data = ""; //This causes the current element to not be added to the element list
							element.type = ElementType.Text;
						}
						else //Previous element not a comment
							element.type = ElementType ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.reset" id="apidoc.element.htmlparser.Parser.prototype.reset">
        function <span class="apidocSignatureSpan">htmlparser.</span>Parser.prototype.reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$reset() {
		this._buffer = "";
		this._done = false;
		this._elements = [];
		this._elementsCurrent = 0;
		this._current = 0;
		this._next = 0;
		this._location = {
			  row: 0
			, col: 0
			, charOffset: 0
			, inBuffer: 0
		};
		this._parseState = ElementType.Text;
		this._prevTagSep = '';
		this._tagStack = [];
		this._handler.reset();
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.validateHandler" id="apidoc.element.htmlparser.Parser.prototype.validateHandler">
        function <span class="apidocSignatureSpan">htmlparser.</span>Parser.prototype.validateHandler
        <span class="apidocSignatureSpan">(handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$validateHandler(handler) {
		if ((typeof handler) != "object")
			throw new Error("Handler is not an object");
		if ((typeof handler.reset) != "function")
			throw new Error("Handler method 'reset' is invalid");
		if ((typeof handler.done) != "function")
			throw new Error("Handler method 'done' is invalid");
		if ((typeof handler.writeTag) != "function")
			throw new Error("Handler method 'writeTag' is invalid");
		if ((typeof handler.writeText) != "function")
			throw new Error("Handler method 'writeText' is invalid");
		if ((typeof handler.writeComment) != "function")
			throw new Error("Handler method 'writeComment' is invalid");
		if ((typeof handler.writeDirective) != "function")
			throw new Error("Handler method 'writeDirective' is invalid");
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.writeHandler" id="apidoc.element.htmlparser.Parser.prototype.writeHandler">
        function <span class="apidocSignatureSpan">htmlparser.</span>Parser.prototype.writeHandler
        <span class="apidocSignatureSpan">(forceFlush)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$writeHandler(forceFlush) {
		forceFlush = !!forceFlush;
		if (this._tagStack.length &amp;&amp; !forceFlush)
			return;
		while (this._elements.length) {
			var element = this._elements.shift();
			switch (element.type) {
				case ElementType.Comment:
					this._handler.writeComment(element);
					break;
				case ElementType.Directive:
					this._handler.writeDirective(element);
					break;
				case ElementType.Text:
					this._handler.writeText(element);
					break;
				default:
					this._handler.writeTag(element);
					break;
			}
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.RssHandler" id="apidoc.element.htmlparser.RssHandler">
        function <span class="apidocSignatureSpan">htmlparser.</span>RssHandler
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function RssHandler(callback) {
	RssHandler.super_.call(this, callback, { ignoreWhitespace: true, verbose: false, enforceEmptyTags: false });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
parser.done();	
```

##Parsing RSS/Atom Feeds

```javascript
new htmlparser.<span class="apidocCodeKeywordSpan">RssHandler</span>(function (error, dom) {
	...
});
```

##DefaultHandler Options

###Usage
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.RssHandler.prototype.done" id="apidoc.element.htmlparser.RssHandler.prototype.done">
        function <span class="apidocSignatureSpan">htmlparser.</span>RssHandler.prototype.done
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function RssHandler$done() {
		var feed = { };
		var feedRoot;

		var found = DomUtils.getElementsByTagName(function (value) { return(value == "rss" || value == "feed"); }, this.dom, false);
		if (found.length) {
			feedRoot = found[0];
		}
		if (feedRoot) {
			if (feedRoot.name == "rss") {
				feed.type = "rss";
				feedRoot = feedRoot.children[0]; //&lt;channel/&gt;
				feed.id = "";
				try {
					feed.title = DomUtils.getElementsByTagName("title", feedRoot.children, false)[0].children[0].data;
				} catch (ex) { }
				try {
					feed.link = DomUtils.getElementsByTagName("link", feedRoot.children, false)[0].children[0].data;
				} catch (ex) { }
				try {
					feed.description = DomUtils.getElementsByTagName("description", feedRoot.children, false)[0].children[0].data;
				} catch (ex) { }
				try {
					feed.updated = new Date(DomUtils.getElementsByTagName("lastBuildDate", feedRoot.children, false)[0].children[0].data);
				} catch (ex) { }
				try {
					feed.author = DomUtils.getElementsByTagName("managingEditor", feedRoot.children, false)[0].children[0].data;
				} catch (ex) { }
				feed.items = [];
				DomUtils.getElementsByTagName("item", feedRoot.children).forEach(function (item, index, list) {
					var entry = {};
					try {
						entry.id = DomUtils.getElementsByTagName("guid", item.children, false)[0].children[0].data;
					} catch (ex) { }
					try {
						entry.title = DomUtils.getElementsByTagName("title", item.children, false)[0].children[0].data;
					} catch (ex) { }
					try {
						entry.link = DomUtils.getElementsByTagName("link", item.children, false)[0].children[0].data;
					} catch (ex) { }
					try {
						entry.description = DomUtils.getElementsByTagName("description", item.children, false)[0].children[0].data;
					} catch (ex) { }
					try {
						entry.pubDate = new Date(DomUtils.getElementsByTagName("pubDate", item.children, false)[0].children[0].data);
					} catch (ex) { }
					feed.items.push(entry);
				});
			} else {
				feed.type = "atom";
				try {
					feed.id = DomUtils.getElementsByTagName("id", feedRoot.children, false)[0].children[0].data;
				} catch (ex) { }
				try {
					feed.title = DomUtils.getElementsByTagName("title", feedRoot.children, false)[0].children[0].data;
				} catch (ex) { }
				try {
					feed.link = DomUtils.getElementsByTagName("link", feedRoot.children, false)[0].attribs.href;
				} catch (ex) { }
				try {
					feed.description = DomUtils.getElementsByTagName("subtitle", feedRoot.children, false)[0].children[0].data;
				} catch (ex) { }
				try {
					feed.updated = new Date(DomUtils.getElementsByTagName("updated", feedRoot.children, false)[0].children[0].data);
				} catch (ex) { }
				try {
					feed.author = DomUtils.getElementsByTagName("email", feedRoot.children, true)[0].children[0].data;
				} catch (ex) { }
				feed.items = [];
				DomUtils.getElementsByTagName("entry", feedRoot.children).forEach(function (item, index, list) {
					var entry = {};
					try {
						entry.id = DomUtils.getElementsByTagName("id", item.children, false)[0].children[0].data;
					} catch (ex) { }
					try {
						entry.title = DomUtils.getElementsByTagName("title", item.children, false)[0].children[0].data;
					} catch (ex) { }
					try {
						entry.link = DomUtils.getElementsByTagName("link", item.children, false)[0].attribs.href;
					} catch (ex) { }
					try {
						entry.description = DomUtils.getElementsByTagName("summary", item.children, false)[0].children[0].data;
					} catch (ex) { }
					try {
						entry.pubDate = new Date(DomUtils.getElementsByTagName("updated", item.children, false)[0].children[0].data);
					} catch (ex) { }
					feed.items.push(entry);
				});
			}

			this.dom = feed;
		}
		RssHandler.super_.prototype.done.call(this);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>














</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.DefaultHandler" id="apidoc.module.htmlparser.DefaultHandler">module htmlparser.DefaultHandler</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.DefaultHandler" id="apidoc.element.htmlparser.DefaultHandler.DefaultHandler">
        function <span class="apidocSignatureSpan">htmlparser.</span>DefaultHandler
        <span class="apidocSignatureSpan">(callback, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler(callback, options) {
	this.reset();
	this._options = options ? options : { };
	if (this._options.ignoreWhitespace == undefined)
		this._options.ignoreWhitespace = false; //Keep whitespace-only text nodes
	if (this._options.verbose == undefined)
		this._options.verbose = true; //Keep data property for tags and raw property for all
	if (this._options.enforceEmptyTags == undefined)
		this._options.enforceEmptyTags = true; //Don't allow children for HTML tags defined as empty in spec
	if ((typeof callback) == "function")
		this._callback = callback;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
View runtests.html in any browser

##Usage In Node

```javascript
var htmlparser = require("htmlparser");
var rawHtml = "Xyz &lt;script language= javascript&gt;var foo = '&lt;&lt;bar&gt;&gt;';&lt; /  script
&gt;&lt;!--&lt;!-- Waah! -- --&gt;";
var handler = new htmlparser.<span class="apidocCodeKeywordSpan">DefaultHandler</span>(function (error, dom) {
	if (error)
		[...do something for errors...]
	else
		[...parsing done, do something...]
});
var parser = new htmlparser.Parser(handler);
parser.parseComplete(rawHtml);
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.DefaultHandler.prototype" id="apidoc.module.htmlparser.DefaultHandler.prototype">module htmlparser.DefaultHandler.prototype</a></h1>




    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.prototype.done" id="apidoc.element.htmlparser.DefaultHandler.prototype.done">
        function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>done
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler$done() {
		this._done = true;
		this.handleCallback(null);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
##Streaming To Parser

```javascript
while (...) {
	...
	parser.parseChunk(chunk);
}
parser.<span class="apidocCodeKeywordSpan">done</span>();	
```

##Parsing RSS/Atom Feeds

```javascript
new htmlparser.RssHandler(function (error, dom) {
	...
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.prototype.error" id="apidoc.element.htmlparser.DefaultHandler.prototype.error">
        function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>error
        <span class="apidocSignatureSpan">(error)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler$error(error) {
		this.handleCallback(error);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.prototype.handleCallback" id="apidoc.element.htmlparser.DefaultHandler.prototype.handleCallback">
        function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>handleCallback
        <span class="apidocSignatureSpan">(error)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler$handleCallback(error) {
			if ((typeof this._callback) != "function")
				if (error)
					throw error;
				else
					return;
			this._callback(error, this.dom);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.prototype.handleElement" id="apidoc.element.htmlparser.DefaultHandler.prototype.handleElement">
        function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>handleElement
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler$handleElement(element) {
		if (this._done)
			this.handleCallback(new Error("Writing to the handler after done() called is not allowed without a reset()"));
		if (!this._options.verbose) {
//			element.raw = null; //FIXME: Not clean
			//FIXME: Serious performance problem using delete
			delete element.raw;
			if (element.type == "tag" || element.type == "script" || element.type == "style")
				delete element.data;
		}
		if (!this._tagStack.last()) { //There are no parent elements
			//If the element can be a container, add it to the tag stack and the top level list
			if (element.type != ElementType.Text &amp;&amp; element.type != ElementType.Comment &amp;&amp; element.type != ElementType.Directive) {
				if (element.name.charAt(0) != "/") { //Ignore closing tags that obviously don't have an opening tag
					this.dom.push(element);
					if (!this.isEmptyTag(element)) { //Don't add tags to the tag stack that can't have children
						this._tagStack.push(element);
					}
				}
			}
			else //Otherwise just add to the top level list
				this.dom.push(element);
		}
		else { //There are parent elements
			//If the element can be a container, add it as a child of the element
			//on top of the tag stack and then add it to the tag stack
			if (element.type != ElementType.Text &amp;&amp; element.type != ElementType.Comment &amp;&amp; element.type != ElementType.Directive) {
				if (element.name.charAt(0) == "/") {
					//This is a closing tag, scan the tagStack to find the matching opening tag
					//and pop the stack up to the opening tag's parent
					var baseName = element.name.substring(1);
					if (!this.isEmptyTag(element)) {
						var pos = this._tagStack.length - 1;
						while (pos &gt; -1 &amp;&amp; this._tagStack[pos--].name != baseName) { }
						if (pos &gt; -1 || this._tagStack[0].name == baseName)
							while (pos &lt; this._tagStack.length - 1)
								this._tagStack.pop();
					}
				}
				else { //This is not a closing tag
					if (!this._tagStack.last().children)
						this._tagStack.last().children = [];
					this._tagStack.last().children.push(element);
					if (!this.isEmptyTag(element)) //Don't add tags to the tag stack that can't have children
						this._tagStack.push(element);
				}
			}
			else { //This is not a container element
				if (!this._tagStack.last().children)
					this._tagStack.last().children = [];
				this._tagStack.last().children.push(element);
			}
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.prototype.isEmptyTag" id="apidoc.element.htmlparser.DefaultHandler.prototype.isEmptyTag">
        function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>isEmptyTag
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isEmptyTag = function (element) {
		var name = element.name.toLowerCase();
		if (name.charAt(0) == '/') {
			name = name.substring(1);
		}
		return this._options.enforceEmptyTags &amp;&amp; !!DefaultHandler._emptyTags[name];
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.prototype.reset" id="apidoc.element.htmlparser.DefaultHandler.prototype.reset">
        function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler$reset() {
		this.dom = [];
		this._done = false;
		this._tagStack = [];
		this._tagStack.last = function DefaultHandler$_tagStack$last () {
			return(this.length ? this[this.length - 1] : null);
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.prototype.writeComment" id="apidoc.element.htmlparser.DefaultHandler.prototype.writeComment">
        function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>writeComment
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler$writeComment(element) {
		this.handleElement(element);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.prototype.writeDirective" id="apidoc.element.htmlparser.DefaultHandler.prototype.writeDirective">
        function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>writeDirective
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler$writeDirective(element) {
		this.handleElement(element);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.prototype.writeTag" id="apidoc.element.htmlparser.DefaultHandler.prototype.writeTag">
        function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>writeTag
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler$writeTag(element) {
		this.handleElement(element);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.prototype.writeText" id="apidoc.element.htmlparser.DefaultHandler.prototype.writeText">
        function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>writeText
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler$writeText(element) {
		if (this._options.ignoreWhitespace)
			if (DefaultHandler.reWhitespace.test(element.data))
				return;
		this.handleElement(element);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>










</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.DefaultHandler.prototype.done" id="apidoc.module.htmlparser.DefaultHandler.prototype.done">module htmlparser.DefaultHandler.prototype.done</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.prototype.done.done" id="apidoc.element.htmlparser.DefaultHandler.prototype.done.done">
        function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>done
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler$done() {
		this._done = true;
		this.handleCallback(null);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
##Streaming To Parser

```javascript
while (...) {
	...
	parser.parseChunk(chunk);
}
parser.<span class="apidocCodeKeywordSpan">done</span>();	
```

##Parsing RSS/Atom Feeds

```javascript
new htmlparser.RssHandler(function (error, dom) {
	...
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.DefaultHandler.prototype.error" id="apidoc.module.htmlparser.DefaultHandler.prototype.error">module htmlparser.DefaultHandler.prototype.error</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.prototype.error.error" id="apidoc.element.htmlparser.DefaultHandler.prototype.error.error">
        function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>error
        <span class="apidocSignatureSpan">(error)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler$error(error) {
		this.handleCallback(error);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.DefaultHandler.prototype.handleCallback" id="apidoc.module.htmlparser.DefaultHandler.prototype.handleCallback">module htmlparser.DefaultHandler.prototype.handleCallback</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.prototype.handleCallback.handleCallback" id="apidoc.element.htmlparser.DefaultHandler.prototype.handleCallback.handleCallback">
        function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>handleCallback
        <span class="apidocSignatureSpan">(error)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler$handleCallback(error) {
			if ((typeof this._callback) != "function")
				if (error)
					throw error;
				else
					return;
			this._callback(error, this.dom);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.DefaultHandler.prototype.handleElement" id="apidoc.module.htmlparser.DefaultHandler.prototype.handleElement">module htmlparser.DefaultHandler.prototype.handleElement</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.prototype.handleElement.handleElement" id="apidoc.element.htmlparser.DefaultHandler.prototype.handleElement.handleElement">
        function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>handleElement
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler$handleElement(element) {
		if (this._done)
			this.handleCallback(new Error("Writing to the handler after done() called is not allowed without a reset()"));
		if (!this._options.verbose) {
//			element.raw = null; //FIXME: Not clean
			//FIXME: Serious performance problem using delete
			delete element.raw;
			if (element.type == "tag" || element.type == "script" || element.type == "style")
				delete element.data;
		}
		if (!this._tagStack.last()) { //There are no parent elements
			//If the element can be a container, add it to the tag stack and the top level list
			if (element.type != ElementType.Text &amp;&amp; element.type != ElementType.Comment &amp;&amp; element.type != ElementType.Directive) {
				if (element.name.charAt(0) != "/") { //Ignore closing tags that obviously don't have an opening tag
					this.dom.push(element);
					if (!this.isEmptyTag(element)) { //Don't add tags to the tag stack that can't have children
						this._tagStack.push(element);
					}
				}
			}
			else //Otherwise just add to the top level list
				this.dom.push(element);
		}
		else { //There are parent elements
			//If the element can be a container, add it as a child of the element
			//on top of the tag stack and then add it to the tag stack
			if (element.type != ElementType.Text &amp;&amp; element.type != ElementType.Comment &amp;&amp; element.type != ElementType.Directive) {
				if (element.name.charAt(0) == "/") {
					//This is a closing tag, scan the tagStack to find the matching opening tag
					//and pop the stack up to the opening tag's parent
					var baseName = element.name.substring(1);
					if (!this.isEmptyTag(element)) {
						var pos = this._tagStack.length - 1;
						while (pos &gt; -1 &amp;&amp; this._tagStack[pos--].name != baseName) { }
						if (pos &gt; -1 || this._tagStack[0].name == baseName)
							while (pos &lt; this._tagStack.length - 1)
								this._tagStack.pop();
					}
				}
				else { //This is not a closing tag
					if (!this._tagStack.last().children)
						this._tagStack.last().children = [];
					this._tagStack.last().children.push(element);
					if (!this.isEmptyTag(element)) //Don't add tags to the tag stack that can't have children
						this._tagStack.push(element);
				}
			}
			else { //This is not a container element
				if (!this._tagStack.last().children)
					this._tagStack.last().children = [];
				this._tagStack.last().children.push(element);
			}
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.DefaultHandler.prototype.isEmptyTag" id="apidoc.module.htmlparser.DefaultHandler.prototype.isEmptyTag">module htmlparser.DefaultHandler.prototype.isEmptyTag</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.prototype.isEmptyTag.isEmptyTag" id="apidoc.element.htmlparser.DefaultHandler.prototype.isEmptyTag.isEmptyTag">
        function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>isEmptyTag
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isEmptyTag = function (element) {
		var name = element.name.toLowerCase();
		if (name.charAt(0) == '/') {
			name = name.substring(1);
		}
		return this._options.enforceEmptyTags &amp;&amp; !!DefaultHandler._emptyTags[name];
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.DefaultHandler.prototype.reset" id="apidoc.module.htmlparser.DefaultHandler.prototype.reset">module htmlparser.DefaultHandler.prototype.reset</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.prototype.reset.reset" id="apidoc.element.htmlparser.DefaultHandler.prototype.reset.reset">
        function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler$reset() {
		this.dom = [];
		this._done = false;
		this._tagStack = [];
		this._tagStack.last = function DefaultHandler$_tagStack$last () {
			return(this.length ? this[this.length - 1] : null);
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.DefaultHandler.prototype.writeComment" id="apidoc.module.htmlparser.DefaultHandler.prototype.writeComment">module htmlparser.DefaultHandler.prototype.writeComment</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.prototype.writeComment.writeComment" id="apidoc.element.htmlparser.DefaultHandler.prototype.writeComment.writeComment">
        function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>writeComment
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler$writeComment(element) {
		this.handleElement(element);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.DefaultHandler.prototype.writeDirective" id="apidoc.module.htmlparser.DefaultHandler.prototype.writeDirective">module htmlparser.DefaultHandler.prototype.writeDirective</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.prototype.writeDirective.writeDirective" id="apidoc.element.htmlparser.DefaultHandler.prototype.writeDirective.writeDirective">
        function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>writeDirective
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler$writeDirective(element) {
		this.handleElement(element);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.DefaultHandler.prototype.writeTag" id="apidoc.module.htmlparser.DefaultHandler.prototype.writeTag">module htmlparser.DefaultHandler.prototype.writeTag</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.prototype.writeTag.writeTag" id="apidoc.element.htmlparser.DefaultHandler.prototype.writeTag.writeTag">
        function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>writeTag
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler$writeTag(element) {
		this.handleElement(element);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.DefaultHandler.prototype.writeText" id="apidoc.module.htmlparser.DefaultHandler.prototype.writeText">module htmlparser.DefaultHandler.prototype.writeText</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.DefaultHandler.prototype.writeText.writeText" id="apidoc.element.htmlparser.DefaultHandler.prototype.writeText.writeText">
        function <span class="apidocSignatureSpan">htmlparser.DefaultHandler.prototype.</span>writeText
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler$writeText(element) {
		if (this._options.ignoreWhitespace)
			if (DefaultHandler.reWhitespace.test(element.data))
				return;
		this.handleElement(element);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.DomUtils" id="apidoc.module.htmlparser.DomUtils">module htmlparser.DomUtils</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.DomUtils.getElementById" id="apidoc.element.htmlparser.DomUtils.getElementById">
        function <span class="apidocSignatureSpan">htmlparser.DomUtils.</span>getElementById
        <span class="apidocSignatureSpan">(id, currentElement, recurse)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DomUtils$getElementById(id, currentElement, recurse) {
			var result = DomUtils.getElements({ id: id }, currentElement, recurse, 1);
			return(result.length ? result[0] : null);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.DomUtils.getElements" id="apidoc.element.htmlparser.DomUtils.getElements">
        function <span class="apidocSignatureSpan">htmlparser.DomUtils.</span>getElements
        <span class="apidocSignatureSpan">(options, currentElement, recurse, limit)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DomUtils$getElements(options, currentElement, recurse, limit) {
			recurse = (recurse === undefined || recurse === null) || !!recurse;
			limit = isNaN(parseInt(limit)) ? -1 : parseInt(limit);

			if (!currentElement) {
				return([]);
			}
	
			var found = [];
			var elementList;

			function getTest (checkVal) {
				return(function (value) { return(value == checkVal); });
			}
			for (var key in options) {
				if ((typeof options[key]) != "function") {
					options[key] = getTest(options[key]);
				}
			}
	
			if (DomUtils.testElement(options, currentElement)) {
				found.push(currentElement);
			}

			if (limit &gt;= 0 &amp;&amp; found.length &gt;= limit) {
				return(found);
			}

			if (recurse &amp;&amp; currentElement.children) {
				elementList = currentElement.children;
			} else if (currentElement instanceof Array) {
				elementList = currentElement;
			} else {
				return(found);
			}
	
			for (var i = 0; i &lt; elementList.length; i++) {
				found = found.concat(DomUtils.getElements(options, elementList[i], recurse, limit));
				if (limit &gt;= 0 &amp;&amp; found.length &gt;= limit) {
					break;
				}
			}
	
			return(found);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.DomUtils.getElementsByTagName" id="apidoc.element.htmlparser.DomUtils.getElementsByTagName">
        function <span class="apidocSignatureSpan">htmlparser.DomUtils.</span>getElementsByTagName
        <span class="apidocSignatureSpan">(name, currentElement, recurse, limit)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DomUtils$getElementsByTagName(name, currentElement, recurse, limit) {
			return(DomUtils.getElements({ tag_name: name }, currentElement, recurse, limit));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.DomUtils.getElementsByTagType" id="apidoc.element.htmlparser.DomUtils.getElementsByTagType">
        function <span class="apidocSignatureSpan">htmlparser.DomUtils.</span>getElementsByTagType
        <span class="apidocSignatureSpan">(type, currentElement, recurse, limit)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DomUtils$getElementsByTagType(type, currentElement, recurse, limit) {
			return(DomUtils.getElements({ tag_type: type }, currentElement, recurse, limit));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.DomUtils.testElement" id="apidoc.element.htmlparser.DomUtils.testElement">
        function <span class="apidocSignatureSpan">htmlparser.DomUtils.</span>testElement
        <span class="apidocSignatureSpan">(options, element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DomUtils$testElement(options, element) {
			if (!element) {
				return false;
			}
	
			for (var key in options) {
				if (key == "tag_name") {
					if (element.type != "tag" &amp;&amp; element.type != "script" &amp;&amp; element.type != "style") {
						return false;
					}
					if (!options["tag_name"](element.name)) {
						return false;
					}
				} else if (key == "tag_type") {
					if (!options["tag_type"](element.type)) {
						return false;
					}
				} else if (key == "tag_contains") {
					if (element.type != "text" &amp;&amp; element.type != "comment" &amp;&amp; element.type != "directive") {
						return false;
					}
					if (!options["tag_contains"](element.data)) {
						return false;
					}
				} else {
					if (!element.attribs || !options[key](element.attribs[key])) {
						return false;
					}
				}
			}
		
			return true;
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.DomUtils.getElementById" id="apidoc.module.htmlparser.DomUtils.getElementById">module htmlparser.DomUtils.getElementById</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.DomUtils.getElementById.getElementById" id="apidoc.element.htmlparser.DomUtils.getElementById.getElementById">
        function <span class="apidocSignatureSpan">htmlparser.DomUtils.</span>getElementById
        <span class="apidocSignatureSpan">(id, currentElement, recurse)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DomUtils$getElementById(id, currentElement, recurse) {
			var result = DomUtils.getElements({ id: id }, currentElement, recurse, 1);
			return(result.length ? result[0] : null);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.DomUtils.getElements" id="apidoc.module.htmlparser.DomUtils.getElements">module htmlparser.DomUtils.getElements</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.DomUtils.getElements.getElements" id="apidoc.element.htmlparser.DomUtils.getElements.getElements">
        function <span class="apidocSignatureSpan">htmlparser.DomUtils.</span>getElements
        <span class="apidocSignatureSpan">(options, currentElement, recurse, limit)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DomUtils$getElements(options, currentElement, recurse, limit) {
			recurse = (recurse === undefined || recurse === null) || !!recurse;
			limit = isNaN(parseInt(limit)) ? -1 : parseInt(limit);

			if (!currentElement) {
				return([]);
			}
	
			var found = [];
			var elementList;

			function getTest (checkVal) {
				return(function (value) { return(value == checkVal); });
			}
			for (var key in options) {
				if ((typeof options[key]) != "function") {
					options[key] = getTest(options[key]);
				}
			}
	
			if (DomUtils.testElement(options, currentElement)) {
				found.push(currentElement);
			}

			if (limit &gt;= 0 &amp;&amp; found.length &gt;= limit) {
				return(found);
			}

			if (recurse &amp;&amp; currentElement.children) {
				elementList = currentElement.children;
			} else if (currentElement instanceof Array) {
				elementList = currentElement;
			} else {
				return(found);
			}
	
			for (var i = 0; i &lt; elementList.length; i++) {
				found = found.concat(DomUtils.getElements(options, elementList[i], recurse, limit));
				if (limit &gt;= 0 &amp;&amp; found.length &gt;= limit) {
					break;
				}
			}
	
			return(found);
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.DomUtils.getElementsByTagName" id="apidoc.module.htmlparser.DomUtils.getElementsByTagName">module htmlparser.DomUtils.getElementsByTagName</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.DomUtils.getElementsByTagName.getElementsByTagName" id="apidoc.element.htmlparser.DomUtils.getElementsByTagName.getElementsByTagName">
        function <span class="apidocSignatureSpan">htmlparser.DomUtils.</span>getElementsByTagName
        <span class="apidocSignatureSpan">(name, currentElement, recurse, limit)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DomUtils$getElementsByTagName(name, currentElement, recurse, limit) {
			return(DomUtils.getElements({ tag_name: name }, currentElement, recurse, limit));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.DomUtils.getElementsByTagType" id="apidoc.module.htmlparser.DomUtils.getElementsByTagType">module htmlparser.DomUtils.getElementsByTagType</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.DomUtils.getElementsByTagType.getElementsByTagType" id="apidoc.element.htmlparser.DomUtils.getElementsByTagType.getElementsByTagType">
        function <span class="apidocSignatureSpan">htmlparser.DomUtils.</span>getElementsByTagType
        <span class="apidocSignatureSpan">(type, currentElement, recurse, limit)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DomUtils$getElementsByTagType(type, currentElement, recurse, limit) {
			return(DomUtils.getElements({ tag_type: type }, currentElement, recurse, limit));
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.DomUtils.testElement" id="apidoc.module.htmlparser.DomUtils.testElement">module htmlparser.DomUtils.testElement</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.DomUtils.testElement.testElement" id="apidoc.element.htmlparser.DomUtils.testElement.testElement">
        function <span class="apidocSignatureSpan">htmlparser.DomUtils.</span>testElement
        <span class="apidocSignatureSpan">(options, element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DomUtils$testElement(options, element) {
			if (!element) {
				return false;
			}
	
			for (var key in options) {
				if (key == "tag_name") {
					if (element.type != "tag" &amp;&amp; element.type != "script" &amp;&amp; element.type != "style") {
						return false;
					}
					if (!options["tag_name"](element.name)) {
						return false;
					}
				} else if (key == "tag_type") {
					if (!options["tag_type"](element.type)) {
						return false;
					}
				} else if (key == "tag_contains") {
					if (element.type != "text" &amp;&amp; element.type != "comment" &amp;&amp; element.type != "directive") {
						return false;
					}
					if (!options["tag_contains"](element.data)) {
						return false;
					}
				} else {
					if (!element.attribs || !options[key](element.attribs[key])) {
						return false;
					}
				}
			}
		
			return true;
		}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.Parser" id="apidoc.module.htmlparser.Parser">module htmlparser.Parser</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.Parser.Parser" id="apidoc.element.htmlparser.Parser.Parser">
        function <span class="apidocSignatureSpan">htmlparser.</span>Parser
        <span class="apidocSignatureSpan">(handler, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser(handler, options) {
	this._options = options ? options : { };
	if (this._options.includeLocation == undefined) {
		this._options.includeLocation = false; //Do not track element position in document by default
	}

	this.validateHandler(handler);
	this._handler = handler;
	this.reset();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var rawHtml = "Xyz &lt;script language= javascript&gt;var foo = '&lt;&lt;bar&gt;&gt;';&lt; /  script
&gt;&lt;!--&lt;!-- Waah! -- --&gt;";
var handler = new htmlparser.DefaultHandler(function (error, dom) {
	if (error)
		[...do something for errors...]
	else
		[...parsing done, do something...]
});
var parser = new htmlparser.<span class="apidocCodeKeywordSpan">Parser</span>(handler);
parser.parseComplete(rawHtml);
sys.puts(sys.inspect(handler.dom, false, null));
```

##Usage In Browser

```javascript
...</pre></li>
    </ul>














</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.Parser.prototype" id="apidoc.module.htmlparser.Parser.prototype">module htmlparser.Parser.prototype</a></h1>




    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.done" id="apidoc.element.htmlparser.Parser.prototype.done">
        function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>done
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$done() {
		if (this._done)
			return;
		this._done = true;
	
		//Push any unparsed text into a final element in the element list
		if (this._buffer.length) {
			var rawData = this._buffer;
			this._buffer = "";
			var element = {
				  raw: rawData
				, data: (this._parseState == ElementType.Text) ? rawData : rawData.replace(Parser._reTrim, "")
				, type: this._parseState
				};
			if (this._parseState == ElementType.Tag || this._parseState == ElementType.Script || this._parseState == ElementType.Style)
				element.name = this.parseTagName(element.data);
			this.parseAttribs(element);
			this._elements.push(element);
		}
	
		this.writeHandler();
		this._handler.done();
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
##Streaming To Parser

```javascript
while (...) {
	...
	parser.parseChunk(chunk);
}
parser.<span class="apidocCodeKeywordSpan">done</span>();	
```

##Parsing RSS/Atom Feeds

```javascript
new htmlparser.RssHandler(function (error, dom) {
	...
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.getLocation" id="apidoc.element.htmlparser.Parser.prototype.getLocation">
        function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>getLocation
        <span class="apidocSignatureSpan">(startTag)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$getLocation(startTag) {
		var c,
			l = this._location,
			end = this._current - (startTag ? 1 : 0),
			chunk = startTag &amp;&amp; l.charOffset == 0 &amp;&amp; this._current == 0;
		
		for (; l.charOffset &lt; end; l.charOffset++) {
			c = this._buffer.charAt(l.charOffset);
			if (c == '\n') {
				l.inBuffer++;
				l.col = 0;
			} else if (c != '\r') {
				l.col++;
			}
		}
		return {
			  line: l.row + l.inBuffer + 1
			, col: l.col + (chunk ? 0: 1)
		};
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.handleError" id="apidoc.element.htmlparser.Parser.prototype.handleError">
        function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>handleError
        <span class="apidocSignatureSpan">(error)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$handleError(error) {
		if ((typeof this._handler.error) == "function")
			this._handler.error(error);
		else
			throw error;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.parseAttribs" id="apidoc.element.htmlparser.Parser.prototype.parseAttribs">
        function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>parseAttribs
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$parseAttribs(element) {
		//Only parse attributes for tags
		if (element.type != ElementType.Script &amp;&amp; element.type != ElementType.Style &amp;&amp; element.type != ElementType.Tag)
			return;
	
		var tagName = element.data.split(Parser._reWhitespace, 1)[0];
		var attribRaw = element.data.substring(tagName.length);
		if (attribRaw.length &lt; 1)
			return;
	
		var match;
		Parser._reAttrib.lastIndex = 0;
		while (match = Parser._reAttrib.exec(attribRaw)) {
			if (element.attribs == undefined)
				element.attribs = {};
	
			if (typeof match[1] == "string" &amp;&amp; match[1].length) {
				element.attribs[match[1]] = match[2];
			} else if (typeof match[3] == "string" &amp;&amp; match[3].length) {
				element.attribs[match[3].toString()] = match[4].toString();
			} else if (typeof match[5] == "string" &amp;&amp; match[5].length) {
				element.attribs[match[5]] = match[6];
			} else if (typeof match[7] == "string" &amp;&amp; match[7].length) {
				element.attribs[match[7]] = match[7];
			}
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.parseChunk" id="apidoc.element.htmlparser.Parser.prototype.parseChunk">
        function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>parseChunk
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$parseChunk(data) {
		if (this._done)
			this.handleError(new Error("Attempted to parse chunk after parsing already done"));
		this._buffer += data; //FIXME: this can be a bottleneck
		this.parseTags();
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

##Streaming To Parser

```javascript
while (...) {
	...
	parser.<span class="apidocCodeKeywordSpan">parseChunk</span>(chunk);
}
parser.done();	
```

##Parsing RSS/Atom Feeds

```javascript
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.parseComplete" id="apidoc.element.htmlparser.Parser.prototype.parseComplete">
        function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>parseComplete
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$parseComplete(data) {
		this.reset();
		this.parseChunk(data);
		this.done();
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var handler = new htmlparser.DefaultHandler(function (error, dom) {
	if (error)
		[...do something for errors...]
	else
		[...parsing done, do something...]
});
var parser = new htmlparser.Parser(handler);
parser.<span class="apidocCodeKeywordSpan">parseComplete</span>(rawHtml);
sys.puts(sys.inspect(handler.dom, false, null));
```

##Usage In Browser

```javascript
var handler = new Tautologistics.NodeHtmlParser.DefaultHandler(function (error, dom) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.parseTagAttribs" id="apidoc.element.htmlparser.Parser.prototype.parseTagAttribs">
        function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>parseTagAttribs
        <span class="apidocSignatureSpan">(elements)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$parseTagAttribs(elements) {
		var idxEnd = elements.length;
		var idx = 0;
	
		while (idx &lt; idxEnd) {
			var element = elements[idx++];
			if (element.type == ElementType.Tag || element.type == ElementType.Script || element.type == ElementType.style)
				this.parseAttribs(element);
		}
	
		return(elements);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.parseTagName" id="apidoc.element.htmlparser.Parser.prototype.parseTagName">
        function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>parseTagName
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$parseTagName(data) {
		if (data == null || data == "")
			return("");
		var match = Parser._reTagName.exec(data);
		if (!match)
			return("");
		return((match[1] ? "/" : "") + match[2]);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.parseTags" id="apidoc.element.htmlparser.Parser.prototype.parseTags">
        function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>parseTags
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$parseTags() {
		var bufferEnd = this._buffer.length - 1;
		while (Parser._reTags.test(this._buffer)) {
			this._next = Parser._reTags.lastIndex - 1;
			var tagSep = this._buffer.charAt(this._next); //The currently found tag marker
			var rawData = this._buffer.substring(this._current, this._next); //The next chunk of data to parse
	
			//A new element to eventually be appended to the element list
			var element = {
				  raw: rawData
				, data: (this._parseState == ElementType.Text) ? rawData : rawData.replace(Parser._reTrim, "")
				, type: this._parseState
			};
	
			var elementName = this.parseTagName(element.data);
	
			//This section inspects the current tag stack and modifies the current
			//element if we're actually parsing a special area (script/comment/style tag)
			if (this._tagStack.length) { //We're parsing inside a script/comment/style tag
				if (this._tagStack[this._tagStack.length - 1] == ElementType.Script) { //We're currently in a script tag
					if (elementName.toLowerCase() == "/script") //Actually, we're no longer in a script tag, so pop it off the stack
						this._tagStack.pop();
					else { //Not a closing script tag
						if (element.raw.indexOf("!--") != 0) { //Make sure we're not in a comment
							//All data from here to script close is now a text element
							element.type = ElementType.Text;
							//If the previous element is text, append the current text to it
							if (this._elements.length &amp;&amp; this._elements[this._elements.length - 1].type == ElementType.Text) {
								var prevElement = this._elements[this._elements.length - 1];
								prevElement.raw = prevElement.data = prevElement.raw + this._prevTagSep + element.raw;
								element.raw = element.data = ""; //This causes the current element to not be added to the element list
							}
						}
					}
				}
				else if (this._tagStack[this._tagStack.length - 1] == ElementType.Style) { //We're currently in a style tag
					if (elementName.toLowerCase() == "/style") //Actually, we're no longer in a style tag, so pop it off the stack
						this._tagStack.pop();
					else {
						if (element.raw.indexOf("!--") != 0) { //Make sure we're not in a comment
							//All data from here to style close is now a text element
							element.type = ElementType.Text;
							//If the previous element is text, append the current text to it
							if (this._elements.length &amp;&amp; this._elements[this._elements.length - 1].type == ElementType.Text) {
								var prevElement = this._elements[this._elements.length - 1];
								if (element.raw != "") {
									prevElement.raw = prevElement.data = prevElement.raw + this._prevTagSep + element.raw;
									element.raw = element.data = ""; //This causes the current element to not be added to the element list
								} else { //Element is empty, so just append the last tag marker found
									prevElement.raw = prevElement.data = prevElement.raw + this._prevTagSep;
								}
							} else { //The previous element was not text
								if (element.raw != "") {
									element.raw = element.data = element.raw;
								}
							}
						}
					}
				}
				else if (this._tagStack[this._tagStack.length - 1] == ElementType.Comment) { //We're currently in a comment tag
					var rawLen = element.raw.length;
					if (element.raw.charAt(rawLen - 2) == "-" &amp;&amp; element.raw.charAt(rawLen - 1) == "-" &amp;&amp; tagSep == "&gt;") {
						//Actually, we're no longer in a style tag, so pop it off the stack
						this._tagStack.pop();
						//If the previous element is a comment, append the current text to it
						if (this._elements.length &amp;&amp; this._elements[this._elements.length - 1].type == ElementType.Comment) {
							var prevElement = this._elements[this._elements.length - 1];
							prevElement.raw = prevElement.data = (prevElement.raw + element.raw).replace(Parser._reTrimComment, "");
							element.raw = element.data = ""; //This causes the current element to not be added to the element list
							element.type = ElementType.Text;
						}
						else //Previous element not a comment
							element.type = ElementType ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.reset" id="apidoc.element.htmlparser.Parser.prototype.reset">
        function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$reset() {
		this._buffer = "";
		this._done = false;
		this._elements = [];
		this._elementsCurrent = 0;
		this._current = 0;
		this._next = 0;
		this._location = {
			  row: 0
			, col: 0
			, charOffset: 0
			, inBuffer: 0
		};
		this._parseState = ElementType.Text;
		this._prevTagSep = '';
		this._tagStack = [];
		this._handler.reset();
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.validateHandler" id="apidoc.element.htmlparser.Parser.prototype.validateHandler">
        function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>validateHandler
        <span class="apidocSignatureSpan">(handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$validateHandler(handler) {
		if ((typeof handler) != "object")
			throw new Error("Handler is not an object");
		if ((typeof handler.reset) != "function")
			throw new Error("Handler method 'reset' is invalid");
		if ((typeof handler.done) != "function")
			throw new Error("Handler method 'done' is invalid");
		if ((typeof handler.writeTag) != "function")
			throw new Error("Handler method 'writeTag' is invalid");
		if ((typeof handler.writeText) != "function")
			throw new Error("Handler method 'writeText' is invalid");
		if ((typeof handler.writeComment) != "function")
			throw new Error("Handler method 'writeComment' is invalid");
		if ((typeof handler.writeDirective) != "function")
			throw new Error("Handler method 'writeDirective' is invalid");
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.writeHandler" id="apidoc.element.htmlparser.Parser.prototype.writeHandler">
        function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>writeHandler
        <span class="apidocSignatureSpan">(forceFlush)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$writeHandler(forceFlush) {
		forceFlush = !!forceFlush;
		if (this._tagStack.length &amp;&amp; !forceFlush)
			return;
		while (this._elements.length) {
			var element = this._elements.shift();
			switch (element.type) {
				case ElementType.Comment:
					this._handler.writeComment(element);
					break;
				case ElementType.Directive:
					this._handler.writeDirective(element);
					break;
				case ElementType.Text:
					this._handler.writeText(element);
					break;
				default:
					this._handler.writeTag(element);
					break;
			}
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
























</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.Parser.prototype.done" id="apidoc.module.htmlparser.Parser.prototype.done">module htmlparser.Parser.prototype.done</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.done.done" id="apidoc.element.htmlparser.Parser.prototype.done.done">
        function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>done
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$done() {
		if (this._done)
			return;
		this._done = true;
	
		//Push any unparsed text into a final element in the element list
		if (this._buffer.length) {
			var rawData = this._buffer;
			this._buffer = "";
			var element = {
				  raw: rawData
				, data: (this._parseState == ElementType.Text) ? rawData : rawData.replace(Parser._reTrim, "")
				, type: this._parseState
				};
			if (this._parseState == ElementType.Tag || this._parseState == ElementType.Script || this._parseState == ElementType.Style)
				element.name = this.parseTagName(element.data);
			this.parseAttribs(element);
			this._elements.push(element);
		}
	
		this.writeHandler();
		this._handler.done();
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
##Streaming To Parser

```javascript
while (...) {
	...
	parser.parseChunk(chunk);
}
parser.<span class="apidocCodeKeywordSpan">done</span>();	
```

##Parsing RSS/Atom Feeds

```javascript
new htmlparser.RssHandler(function (error, dom) {
	...
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.Parser.prototype.getLocation" id="apidoc.module.htmlparser.Parser.prototype.getLocation">module htmlparser.Parser.prototype.getLocation</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.getLocation.getLocation" id="apidoc.element.htmlparser.Parser.prototype.getLocation.getLocation">
        function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>getLocation
        <span class="apidocSignatureSpan">(startTag)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$getLocation(startTag) {
		var c,
			l = this._location,
			end = this._current - (startTag ? 1 : 0),
			chunk = startTag &amp;&amp; l.charOffset == 0 &amp;&amp; this._current == 0;
		
		for (; l.charOffset &lt; end; l.charOffset++) {
			c = this._buffer.charAt(l.charOffset);
			if (c == '\n') {
				l.inBuffer++;
				l.col = 0;
			} else if (c != '\r') {
				l.col++;
			}
		}
		return {
			  line: l.row + l.inBuffer + 1
			, col: l.col + (chunk ? 0: 1)
		};
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.Parser.prototype.handleError" id="apidoc.module.htmlparser.Parser.prototype.handleError">module htmlparser.Parser.prototype.handleError</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.handleError.handleError" id="apidoc.element.htmlparser.Parser.prototype.handleError.handleError">
        function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>handleError
        <span class="apidocSignatureSpan">(error)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$handleError(error) {
		if ((typeof this._handler.error) == "function")
			this._handler.error(error);
		else
			throw error;
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.Parser.prototype.parseAttribs" id="apidoc.module.htmlparser.Parser.prototype.parseAttribs">module htmlparser.Parser.prototype.parseAttribs</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.parseAttribs.parseAttribs" id="apidoc.element.htmlparser.Parser.prototype.parseAttribs.parseAttribs">
        function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>parseAttribs
        <span class="apidocSignatureSpan">(element)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$parseAttribs(element) {
		//Only parse attributes for tags
		if (element.type != ElementType.Script &amp;&amp; element.type != ElementType.Style &amp;&amp; element.type != ElementType.Tag)
			return;
	
		var tagName = element.data.split(Parser._reWhitespace, 1)[0];
		var attribRaw = element.data.substring(tagName.length);
		if (attribRaw.length &lt; 1)
			return;
	
		var match;
		Parser._reAttrib.lastIndex = 0;
		while (match = Parser._reAttrib.exec(attribRaw)) {
			if (element.attribs == undefined)
				element.attribs = {};
	
			if (typeof match[1] == "string" &amp;&amp; match[1].length) {
				element.attribs[match[1]] = match[2];
			} else if (typeof match[3] == "string" &amp;&amp; match[3].length) {
				element.attribs[match[3].toString()] = match[4].toString();
			} else if (typeof match[5] == "string" &amp;&amp; match[5].length) {
				element.attribs[match[5]] = match[6];
			} else if (typeof match[7] == "string" &amp;&amp; match[7].length) {
				element.attribs[match[7]] = match[7];
			}
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.Parser.prototype.parseChunk" id="apidoc.module.htmlparser.Parser.prototype.parseChunk">module htmlparser.Parser.prototype.parseChunk</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.parseChunk.parseChunk" id="apidoc.element.htmlparser.Parser.prototype.parseChunk.parseChunk">
        function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>parseChunk
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$parseChunk(data) {
		if (this._done)
			this.handleError(new Error("Attempted to parse chunk after parsing already done"));
		this._buffer += data; //FIXME: this can be a bottleneck
		this.parseTags();
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

##Streaming To Parser

```javascript
while (...) {
	...
	parser.<span class="apidocCodeKeywordSpan">parseChunk</span>(chunk);
}
parser.done();	
```

##Parsing RSS/Atom Feeds

```javascript
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.Parser.prototype.parseComplete" id="apidoc.module.htmlparser.Parser.prototype.parseComplete">module htmlparser.Parser.prototype.parseComplete</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.parseComplete.parseComplete" id="apidoc.element.htmlparser.Parser.prototype.parseComplete.parseComplete">
        function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>parseComplete
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$parseComplete(data) {
		this.reset();
		this.parseChunk(data);
		this.done();
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var handler = new htmlparser.DefaultHandler(function (error, dom) {
	if (error)
		[...do something for errors...]
	else
		[...parsing done, do something...]
});
var parser = new htmlparser.Parser(handler);
parser.<span class="apidocCodeKeywordSpan">parseComplete</span>(rawHtml);
sys.puts(sys.inspect(handler.dom, false, null));
```

##Usage In Browser

```javascript
var handler = new Tautologistics.NodeHtmlParser.DefaultHandler(function (error, dom) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.Parser.prototype.parseTagAttribs" id="apidoc.module.htmlparser.Parser.prototype.parseTagAttribs">module htmlparser.Parser.prototype.parseTagAttribs</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.parseTagAttribs.parseTagAttribs" id="apidoc.element.htmlparser.Parser.prototype.parseTagAttribs.parseTagAttribs">
        function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>parseTagAttribs
        <span class="apidocSignatureSpan">(elements)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$parseTagAttribs(elements) {
		var idxEnd = elements.length;
		var idx = 0;
	
		while (idx &lt; idxEnd) {
			var element = elements[idx++];
			if (element.type == ElementType.Tag || element.type == ElementType.Script || element.type == ElementType.style)
				this.parseAttribs(element);
		}
	
		return(elements);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.Parser.prototype.parseTagName" id="apidoc.module.htmlparser.Parser.prototype.parseTagName">module htmlparser.Parser.prototype.parseTagName</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.parseTagName.parseTagName" id="apidoc.element.htmlparser.Parser.prototype.parseTagName.parseTagName">
        function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>parseTagName
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$parseTagName(data) {
		if (data == null || data == "")
			return("");
		var match = Parser._reTagName.exec(data);
		if (!match)
			return("");
		return((match[1] ? "/" : "") + match[2]);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.Parser.prototype.parseTags" id="apidoc.module.htmlparser.Parser.prototype.parseTags">module htmlparser.Parser.prototype.parseTags</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.parseTags.parseTags" id="apidoc.element.htmlparser.Parser.prototype.parseTags.parseTags">
        function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>parseTags
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$parseTags() {
		var bufferEnd = this._buffer.length - 1;
		while (Parser._reTags.test(this._buffer)) {
			this._next = Parser._reTags.lastIndex - 1;
			var tagSep = this._buffer.charAt(this._next); //The currently found tag marker
			var rawData = this._buffer.substring(this._current, this._next); //The next chunk of data to parse
	
			//A new element to eventually be appended to the element list
			var element = {
				  raw: rawData
				, data: (this._parseState == ElementType.Text) ? rawData : rawData.replace(Parser._reTrim, "")
				, type: this._parseState
			};
	
			var elementName = this.parseTagName(element.data);
	
			//This section inspects the current tag stack and modifies the current
			//element if we're actually parsing a special area (script/comment/style tag)
			if (this._tagStack.length) { //We're parsing inside a script/comment/style tag
				if (this._tagStack[this._tagStack.length - 1] == ElementType.Script) { //We're currently in a script tag
					if (elementName.toLowerCase() == "/script") //Actually, we're no longer in a script tag, so pop it off the stack
						this._tagStack.pop();
					else { //Not a closing script tag
						if (element.raw.indexOf("!--") != 0) { //Make sure we're not in a comment
							//All data from here to script close is now a text element
							element.type = ElementType.Text;
							//If the previous element is text, append the current text to it
							if (this._elements.length &amp;&amp; this._elements[this._elements.length - 1].type == ElementType.Text) {
								var prevElement = this._elements[this._elements.length - 1];
								prevElement.raw = prevElement.data = prevElement.raw + this._prevTagSep + element.raw;
								element.raw = element.data = ""; //This causes the current element to not be added to the element list
							}
						}
					}
				}
				else if (this._tagStack[this._tagStack.length - 1] == ElementType.Style) { //We're currently in a style tag
					if (elementName.toLowerCase() == "/style") //Actually, we're no longer in a style tag, so pop it off the stack
						this._tagStack.pop();
					else {
						if (element.raw.indexOf("!--") != 0) { //Make sure we're not in a comment
							//All data from here to style close is now a text element
							element.type = ElementType.Text;
							//If the previous element is text, append the current text to it
							if (this._elements.length &amp;&amp; this._elements[this._elements.length - 1].type == ElementType.Text) {
								var prevElement = this._elements[this._elements.length - 1];
								if (element.raw != "") {
									prevElement.raw = prevElement.data = prevElement.raw + this._prevTagSep + element.raw;
									element.raw = element.data = ""; //This causes the current element to not be added to the element list
								} else { //Element is empty, so just append the last tag marker found
									prevElement.raw = prevElement.data = prevElement.raw + this._prevTagSep;
								}
							} else { //The previous element was not text
								if (element.raw != "") {
									element.raw = element.data = element.raw;
								}
							}
						}
					}
				}
				else if (this._tagStack[this._tagStack.length - 1] == ElementType.Comment) { //We're currently in a comment tag
					var rawLen = element.raw.length;
					if (element.raw.charAt(rawLen - 2) == "-" &amp;&amp; element.raw.charAt(rawLen - 1) == "-" &amp;&amp; tagSep == "&gt;") {
						//Actually, we're no longer in a style tag, so pop it off the stack
						this._tagStack.pop();
						//If the previous element is a comment, append the current text to it
						if (this._elements.length &amp;&amp; this._elements[this._elements.length - 1].type == ElementType.Comment) {
							var prevElement = this._elements[this._elements.length - 1];
							prevElement.raw = prevElement.data = (prevElement.raw + element.raw).replace(Parser._reTrimComment, "");
							element.raw = element.data = ""; //This causes the current element to not be added to the element list
							element.type = ElementType.Text;
						}
						else //Previous element not a comment
							element.type = ElementType ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.Parser.prototype.reset" id="apidoc.module.htmlparser.Parser.prototype.reset">module htmlparser.Parser.prototype.reset</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.reset.reset" id="apidoc.element.htmlparser.Parser.prototype.reset.reset">
        function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$reset() {
		this._buffer = "";
		this._done = false;
		this._elements = [];
		this._elementsCurrent = 0;
		this._current = 0;
		this._next = 0;
		this._location = {
			  row: 0
			, col: 0
			, charOffset: 0
			, inBuffer: 0
		};
		this._parseState = ElementType.Text;
		this._prevTagSep = '';
		this._tagStack = [];
		this._handler.reset();
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.Parser.prototype.validateHandler" id="apidoc.module.htmlparser.Parser.prototype.validateHandler">module htmlparser.Parser.prototype.validateHandler</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.validateHandler.validateHandler" id="apidoc.element.htmlparser.Parser.prototype.validateHandler.validateHandler">
        function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>validateHandler
        <span class="apidocSignatureSpan">(handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$validateHandler(handler) {
		if ((typeof handler) != "object")
			throw new Error("Handler is not an object");
		if ((typeof handler.reset) != "function")
			throw new Error("Handler method 'reset' is invalid");
		if ((typeof handler.done) != "function")
			throw new Error("Handler method 'done' is invalid");
		if ((typeof handler.writeTag) != "function")
			throw new Error("Handler method 'writeTag' is invalid");
		if ((typeof handler.writeText) != "function")
			throw new Error("Handler method 'writeText' is invalid");
		if ((typeof handler.writeComment) != "function")
			throw new Error("Handler method 'writeComment' is invalid");
		if ((typeof handler.writeDirective) != "function")
			throw new Error("Handler method 'writeDirective' is invalid");
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.Parser.prototype.writeHandler" id="apidoc.module.htmlparser.Parser.prototype.writeHandler">module htmlparser.Parser.prototype.writeHandler</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.Parser.prototype.writeHandler.writeHandler" id="apidoc.element.htmlparser.Parser.prototype.writeHandler.writeHandler">
        function <span class="apidocSignatureSpan">htmlparser.Parser.prototype.</span>writeHandler
        <span class="apidocSignatureSpan">(forceFlush)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser$writeHandler(forceFlush) {
		forceFlush = !!forceFlush;
		if (this._tagStack.length &amp;&amp; !forceFlush)
			return;
		while (this._elements.length) {
			var element = this._elements.shift();
			switch (element.type) {
				case ElementType.Comment:
					this._handler.writeComment(element);
					break;
				case ElementType.Directive:
					this._handler.writeDirective(element);
					break;
				case ElementType.Text:
					this._handler.writeText(element);
					break;
				default:
					this._handler.writeTag(element);
					break;
			}
		}
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.RssHandler" id="apidoc.module.htmlparser.RssHandler">module htmlparser.RssHandler</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.RssHandler.RssHandler" id="apidoc.element.htmlparser.RssHandler.RssHandler">
        function <span class="apidocSignatureSpan">htmlparser.</span>RssHandler
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function RssHandler(callback) {
	RssHandler.super_.call(this, callback, { ignoreWhitespace: true, verbose: false, enforceEmptyTags: false });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
parser.done();	
```

##Parsing RSS/Atom Feeds

```javascript
new htmlparser.<span class="apidocCodeKeywordSpan">RssHandler</span>(function (error, dom) {
	...
});
```

##DefaultHandler Options

###Usage
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.RssHandler.super_" id="apidoc.element.htmlparser.RssHandler.super_">
        function <span class="apidocSignatureSpan">htmlparser.RssHandler.</span>super_
        <span class="apidocSignatureSpan">(callback, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler(callback, options) {
	this.reset();
	this._options = options ? options : { };
	if (this._options.ignoreWhitespace == undefined)
		this._options.ignoreWhitespace = false; //Keep whitespace-only text nodes
	if (this._options.verbose == undefined)
		this._options.verbose = true; //Keep data property for tags and raw property for all
	if (this._options.enforceEmptyTags == undefined)
		this._options.enforceEmptyTags = true; //Don't allow children for HTML tags defined as empty in spec
	if ((typeof callback) == "function")
		this._callback = callback;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.RssHandler.prototype" id="apidoc.module.htmlparser.RssHandler.prototype">module htmlparser.RssHandler.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.RssHandler.prototype.constructor" id="apidoc.element.htmlparser.RssHandler.prototype.constructor">
        function <span class="apidocSignatureSpan">htmlparser.RssHandler.prototype.</span>constructor
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function RssHandler(callback) {
	RssHandler.super_.call(this, callback, { ignoreWhitespace: true, verbose: false, enforceEmptyTags: false });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.RssHandler.prototype.done" id="apidoc.element.htmlparser.RssHandler.prototype.done">
        function <span class="apidocSignatureSpan">htmlparser.RssHandler.prototype.</span>done
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function RssHandler$done() {
		var feed = { };
		var feedRoot;

		var found = DomUtils.getElementsByTagName(function (value) { return(value == "rss" || value == "feed"); }, this.dom, false);
		if (found.length) {
			feedRoot = found[0];
		}
		if (feedRoot) {
			if (feedRoot.name == "rss") {
				feed.type = "rss";
				feedRoot = feedRoot.children[0]; //&lt;channel/&gt;
				feed.id = "";
				try {
					feed.title = DomUtils.getElementsByTagName("title", feedRoot.children, false)[0].children[0].data;
				} catch (ex) { }
				try {
					feed.link = DomUtils.getElementsByTagName("link", feedRoot.children, false)[0].children[0].data;
				} catch (ex) { }
				try {
					feed.description = DomUtils.getElementsByTagName("description", feedRoot.children, false)[0].children[0].data;
				} catch (ex) { }
				try {
					feed.updated = new Date(DomUtils.getElementsByTagName("lastBuildDate", feedRoot.children, false)[0].children[0].data);
				} catch (ex) { }
				try {
					feed.author = DomUtils.getElementsByTagName("managingEditor", feedRoot.children, false)[0].children[0].data;
				} catch (ex) { }
				feed.items = [];
				DomUtils.getElementsByTagName("item", feedRoot.children).forEach(function (item, index, list) {
					var entry = {};
					try {
						entry.id = DomUtils.getElementsByTagName("guid", item.children, false)[0].children[0].data;
					} catch (ex) { }
					try {
						entry.title = DomUtils.getElementsByTagName("title", item.children, false)[0].children[0].data;
					} catch (ex) { }
					try {
						entry.link = DomUtils.getElementsByTagName("link", item.children, false)[0].children[0].data;
					} catch (ex) { }
					try {
						entry.description = DomUtils.getElementsByTagName("description", item.children, false)[0].children[0].data;
					} catch (ex) { }
					try {
						entry.pubDate = new Date(DomUtils.getElementsByTagName("pubDate", item.children, false)[0].children[0].data);
					} catch (ex) { }
					feed.items.push(entry);
				});
			} else {
				feed.type = "atom";
				try {
					feed.id = DomUtils.getElementsByTagName("id", feedRoot.children, false)[0].children[0].data;
				} catch (ex) { }
				try {
					feed.title = DomUtils.getElementsByTagName("title", feedRoot.children, false)[0].children[0].data;
				} catch (ex) { }
				try {
					feed.link = DomUtils.getElementsByTagName("link", feedRoot.children, false)[0].attribs.href;
				} catch (ex) { }
				try {
					feed.description = DomUtils.getElementsByTagName("subtitle", feedRoot.children, false)[0].children[0].data;
				} catch (ex) { }
				try {
					feed.updated = new Date(DomUtils.getElementsByTagName("updated", feedRoot.children, false)[0].children[0].data);
				} catch (ex) { }
				try {
					feed.author = DomUtils.getElementsByTagName("email", feedRoot.children, true)[0].children[0].data;
				} catch (ex) { }
				feed.items = [];
				DomUtils.getElementsByTagName("entry", feedRoot.children).forEach(function (item, index, list) {
					var entry = {};
					try {
						entry.id = DomUtils.getElementsByTagName("id", item.children, false)[0].children[0].data;
					} catch (ex) { }
					try {
						entry.title = DomUtils.getElementsByTagName("title", item.children, false)[0].children[0].data;
					} catch (ex) { }
					try {
						entry.link = DomUtils.getElementsByTagName("link", item.children, false)[0].attribs.href;
					} catch (ex) { }
					try {
						entry.description = DomUtils.getElementsByTagName("summary", item.children, false)[0].children[0].data;
					} catch (ex) { }
					try {
						entry.pubDate = new Date(DomUtils.getElementsByTagName("updated", item.children, false)[0].children[0].data);
					} catch (ex) { }
					feed.items.push(entry);
				});
			}

			this.dom = feed;
		}
		RssHandler.super_.prototype.done.call(this);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
##Streaming To Parser

```javascript
while (...) {
	...
	parser.parseChunk(chunk);
}
parser.<span class="apidocCodeKeywordSpan">done</span>();	
```

##Parsing RSS/Atom Feeds

```javascript
new htmlparser.RssHandler(function (error, dom) {
	...
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.RssHandler.prototype.done" id="apidoc.module.htmlparser.RssHandler.prototype.done">module htmlparser.RssHandler.prototype.done</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.RssHandler.prototype.done.done" id="apidoc.element.htmlparser.RssHandler.prototype.done.done">
        function <span class="apidocSignatureSpan">htmlparser.RssHandler.prototype.</span>done
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function RssHandler$done() {
		var feed = { };
		var feedRoot;

		var found = DomUtils.getElementsByTagName(function (value) { return(value == "rss" || value == "feed"); }, this.dom, false);
		if (found.length) {
			feedRoot = found[0];
		}
		if (feedRoot) {
			if (feedRoot.name == "rss") {
				feed.type = "rss";
				feedRoot = feedRoot.children[0]; //&lt;channel/&gt;
				feed.id = "";
				try {
					feed.title = DomUtils.getElementsByTagName("title", feedRoot.children, false)[0].children[0].data;
				} catch (ex) { }
				try {
					feed.link = DomUtils.getElementsByTagName("link", feedRoot.children, false)[0].children[0].data;
				} catch (ex) { }
				try {
					feed.description = DomUtils.getElementsByTagName("description", feedRoot.children, false)[0].children[0].data;
				} catch (ex) { }
				try {
					feed.updated = new Date(DomUtils.getElementsByTagName("lastBuildDate", feedRoot.children, false)[0].children[0].data);
				} catch (ex) { }
				try {
					feed.author = DomUtils.getElementsByTagName("managingEditor", feedRoot.children, false)[0].children[0].data;
				} catch (ex) { }
				feed.items = [];
				DomUtils.getElementsByTagName("item", feedRoot.children).forEach(function (item, index, list) {
					var entry = {};
					try {
						entry.id = DomUtils.getElementsByTagName("guid", item.children, false)[0].children[0].data;
					} catch (ex) { }
					try {
						entry.title = DomUtils.getElementsByTagName("title", item.children, false)[0].children[0].data;
					} catch (ex) { }
					try {
						entry.link = DomUtils.getElementsByTagName("link", item.children, false)[0].children[0].data;
					} catch (ex) { }
					try {
						entry.description = DomUtils.getElementsByTagName("description", item.children, false)[0].children[0].data;
					} catch (ex) { }
					try {
						entry.pubDate = new Date(DomUtils.getElementsByTagName("pubDate", item.children, false)[0].children[0].data);
					} catch (ex) { }
					feed.items.push(entry);
				});
			} else {
				feed.type = "atom";
				try {
					feed.id = DomUtils.getElementsByTagName("id", feedRoot.children, false)[0].children[0].data;
				} catch (ex) { }
				try {
					feed.title = DomUtils.getElementsByTagName("title", feedRoot.children, false)[0].children[0].data;
				} catch (ex) { }
				try {
					feed.link = DomUtils.getElementsByTagName("link", feedRoot.children, false)[0].attribs.href;
				} catch (ex) { }
				try {
					feed.description = DomUtils.getElementsByTagName("subtitle", feedRoot.children, false)[0].children[0].data;
				} catch (ex) { }
				try {
					feed.updated = new Date(DomUtils.getElementsByTagName("updated", feedRoot.children, false)[0].children[0].data);
				} catch (ex) { }
				try {
					feed.author = DomUtils.getElementsByTagName("email", feedRoot.children, true)[0].children[0].data;
				} catch (ex) { }
				feed.items = [];
				DomUtils.getElementsByTagName("entry", feedRoot.children).forEach(function (item, index, list) {
					var entry = {};
					try {
						entry.id = DomUtils.getElementsByTagName("id", item.children, false)[0].children[0].data;
					} catch (ex) { }
					try {
						entry.title = DomUtils.getElementsByTagName("title", item.children, false)[0].children[0].data;
					} catch (ex) { }
					try {
						entry.link = DomUtils.getElementsByTagName("link", item.children, false)[0].attribs.href;
					} catch (ex) { }
					try {
						entry.description = DomUtils.getElementsByTagName("summary", item.children, false)[0].children[0].data;
					} catch (ex) { }
					try {
						entry.pubDate = new Date(DomUtils.getElementsByTagName("updated", item.children, false)[0].children[0].data);
					} catch (ex) { }
					feed.items.push(entry);
				});
			}

			this.dom = feed;
		}
		RssHandler.super_.prototype.done.call(this);
	}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
##Streaming To Parser

```javascript
while (...) {
	...
	parser.parseChunk(chunk);
}
parser.<span class="apidocCodeKeywordSpan">done</span>();	
```

##Parsing RSS/Atom Feeds

```javascript
new htmlparser.RssHandler(function (error, dom) {
	...
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.htmlparser.node_htmlparser" id="apidoc.module.htmlparser.node_htmlparser">module htmlparser.node_htmlparser</a></h1>


    <h2>
        <a href="#apidoc.element.htmlparser.node_htmlparser.DefaultHandler" id="apidoc.element.htmlparser.node_htmlparser.DefaultHandler">
        function <span class="apidocSignatureSpan">htmlparser.node_htmlparser.</span>DefaultHandler
        <span class="apidocSignatureSpan">(callback, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function DefaultHandler(callback, options) {
	this.reset();
	this._options = options ? options : { };
	if (this._options.ignoreWhitespace == undefined)
		this._options.ignoreWhitespace = false; //Keep whitespace-only text nodes
	if (this._options.verbose == undefined)
		this._options.verbose = true; //Keep data property for tags and raw property for all
	if (this._options.enforceEmptyTags == undefined)
		this._options.enforceEmptyTags = true; //Don't allow children for HTML tags defined as empty in spec
	if ((typeof callback) == "function")
		this._callback = callback;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
View runtests.html in any browser

##Usage In Node

```javascript
var htmlparser = require("htmlparser");
var rawHtml = "Xyz &lt;script language= javascript&gt;var foo = '&lt;&lt;bar&gt;&gt;';&lt; /  script
&gt;&lt;!--&lt;!-- Waah! -- --&gt;";
var handler = new htmlparser.<span class="apidocCodeKeywordSpan">DefaultHandler</span>(function (error, dom) {
	if (error)
		[...do something for errors...]
	else
		[...parsing done, do something...]
});
var parser = new htmlparser.Parser(handler);
parser.parseComplete(rawHtml);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.node_htmlparser.Parser" id="apidoc.element.htmlparser.node_htmlparser.Parser">
        function <span class="apidocSignatureSpan">htmlparser.node_htmlparser.</span>Parser
        <span class="apidocSignatureSpan">(handler, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Parser(handler, options) {
	this._options = options ? options : { };
	if (this._options.includeLocation == undefined) {
		this._options.includeLocation = false; //Do not track element position in document by default
	}

	this.validateHandler(handler);
	this._handler = handler;
	this.reset();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var rawHtml = "Xyz &lt;script language= javascript&gt;var foo = '&lt;&lt;bar&gt;&gt;';&lt; /  script
&gt;&lt;!--&lt;!-- Waah! -- --&gt;";
var handler = new htmlparser.DefaultHandler(function (error, dom) {
	if (error)
		[...do something for errors...]
	else
		[...parsing done, do something...]
});
var parser = new htmlparser.<span class="apidocCodeKeywordSpan">Parser</span>(handler);
parser.parseComplete(rawHtml);
sys.puts(sys.inspect(handler.dom, false, null));
```

##Usage In Browser

```javascript
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.htmlparser.node_htmlparser.RssHandler" id="apidoc.element.htmlparser.node_htmlparser.RssHandler">
        function <span class="apidocSignatureSpan">htmlparser.node_htmlparser.</span>RssHandler
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function RssHandler(callback) {
	RssHandler.super_.call(this, callback, { ignoreWhitespace: true, verbose: false, enforceEmptyTags: false });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
parser.done();	
```

##Parsing RSS/Atom Feeds

```javascript
new htmlparser.<span class="apidocCodeKeywordSpan">RssHandler</span>(function (error, dom) {
	...
});
```

##DefaultHandler Options

###Usage
...</pre></li>
    </ul>






</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>